[{"path":[]},{"path":"/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement legoupil@unhcr.org. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired [Mozilla’s code conduct enforcement ladder][https://github.com/mozilla/inclusion]. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 UNHCR Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/articles/1-data-tidying.html","id":"fetch_fts_data","dir":"Articles","previous_headings":"","what":"fetch_fts_data","title":"1-Data Tidying","text":"description type variables flows data -","code":""},{"path":"/articles/1-data-tidying.html","id":"identifiers","dir":"Articles","previous_headings":"fetch_fts_data","what":"Identifiers","title":"1-Data Tidying","text":"id unique identifier row, used future update funding row. versionId childFlowIds FTS database allows funding flows linked together represent funding cascading implementation chain primary donors field implementers. flows chained together way, flow downstream flow viewed referred child flow. child flows parent flow upstream. parentFlowId FTS database allows funding flows linked together represent funding cascading implementation chain primary donors field implementers. flows chained together way, flow upstream flow viewed referred parent flow. parent flows one child flows downstream. flowType factor following levels “Carryover” “Parked” “Pass ” “Standard” parked flow refers funding flow initially may allocated specific organizations sectors, additional information forthcoming. ‘Parked’ funding usually parent flow (see glossary parent flow) number linked child flows. Parking parent flow allows children reflect source information linked parent. Parked records either major funding decisions (e.g. ECHO decisions begin large funding envelope without destination organizations) information recipients determined later time (added child flows), multi-year funding records yearly contributions broken child flows ‘parked’ flow. Pass funding refers downstream funding allocations (e.g. Donor UN Agency NGO, Donor International NGO Local NGO, etc.). refCode code related grant agreement fund, ideally known donor recipient organizations. reportDetails list following variablessourceType organization reportChannel date","code":""},{"path":"/articles/1-data-tidying.html","id":"flow-description","dir":"Articles","previous_headings":"fetch_fts_data","what":"Flow Description","title":"1-Data Tidying","text":"description description briefly; ie. destination activity/project, location within country, duration. grandBargainEarmarkingType modality earmarking (Earmarked, Softly earmarked, tightly earmarked, unearmarked) https://fts.unocha.org/glossary Unearmarked Fully flexible core contribution Financial contribution aid organisation budget, fully flexible (within boundaries set mandates, governing body regulations etc.) B Fully flexible core contribution CERF Financial contribution CERF budget, fully flexible within CERF regulations. C Core contribution Financial contribution significant part aid organisation’s mandate, e.g. restricted humanitarian operations double-mandated organisation. aid organisation can instructed distribute discretion – several strategic objectives/regions/crises avoid entire contribution used one context. Softly earmarked D Core contribution limitations Financial contribution, exclusions pertaining small number specific countries. aid organisation can instructed use funding outside certain areas countries. E Directed geographical region strategic objective Financial contribution, fully flexible within boundaries strategic objective (e.g. health education) region (e.g. Africa). reflect priorities Strategic Plan approved relevant governing body. F Directed Country-Based Pooled Fund Financial contribution directed specific Country-Based Pooled Fund, otherwise fully flexible. Earmarked G Directed aid organiastion’s country operations Financial contribution, directed specific country, otherwise fully flexible. reflect priorities set relevant governing body regarding country operations. H Directed subobjective/target Financial contribution, directed subcategories strategic objectives, e.g. health/malaria education /teacher training, without geographical limitations. reflect priorities Strategic Plan approved relevant governing body. Tightly earmarked Directed specific project Financial contribution directed specific project specific country. J Directed geographically thematically, tied financial Financial contribution, tied certain conditions terms purchase restrictions, directed specific country/region specific objective. instance, financial contribution purchase ABC school feeding X-land. K Directed geographically thematically, kind. -kind contribution directed specific country/region specific objective. instance, rice school feeding X-land. L Donor-initiated projects/directed contributions Financial contribution coupled demand specific project specific country fulfilling donor priorities. reflecting Strategic Plan aid organisation. instance, becomes service provider. also put strain non-project support costs (overhead costs). contributionType - (financial, -kind) Reporting Status indicate status humanitarian fund reported per row (“New Contribution”, “Top-/Update”, “Old Contribution”) New contribution (aka New money): fund reported FTS reporter first time. Top-/update: fund reported FTS reporter now update amount /details. Old contribution: fund reported FTS reporter change. Used reporters share cumulative reports. newMoney FALSE/TRUE keywords method Cash Transfer Programming (CTP) refers programs cash (vouchers goods services) directly provided beneficiaries.CTP can three types: cash, mobile phone transfer vouchers. FTS refers humanitarian assistance modalities traditional aid. Traditional: Non-cash assistance provided form materials services (.e. food, tents, PSS, secondment staff). boundary Boundaries classify relevant flows categories incoming, internal outgoing. FTS database records flows funding, draws boundaries around (combinations ) flow properties calculate totals. Examples common boundaries response plan/appeal combination (donor affected) country year. Drawing boundary classifies flows database crossing boundary inward (incoming flows), originating terminating within boundary (internal flows), crossing outwards (outgoing flows), fourth category displayed - irrelevant boundary originate terminate outside . Incoming flows flows cross given search boundary inwards. boundary e.g. affected country year, flows originating donor countries multilateral organisations attributed country incoming flows, carry-previous year. avoid double-counting, incoming flows never added internal flows. Outgoing flows flows originate within terminate outside given search boundary. boundary e.g. affected country year, flows representing carry-overs next year outgoing flows. onBoundary status status humanitarian funding reported. (pledge, commitment, paid) “commitment” binding agreement signed parties approval grant donor member state. Creation contractual obligation regarding funding donor appealing agency; almost always takes form signed contract. crucial stage humanitarian funding: agencies spend money implement funding commitment made. “pledge” binding agreement official government approval.non-binding announcement intended contribution allocation donor. recipient organization response plan project necessarily specified. soon commitment reported FTS pledge, amount pledge column reduced accordingly. FTS tables therefore show ‘outstanding’ (‘total original’) pledge amount. information reported us directly donors agencies may may include verbal commitments made pledging conferences. “paid” money transfer realized. FTS track disbursements / installments","code":"New contribution (aka New money): The fund is being reported to FTS by the same reporter for the first time. Top-up/update: The fund was reported to FTS by the same reporter and now there is an update on the amount and/or on any other details. Old contribution: The fund was reported to FTS by the same reporter and there is no change. Used when reporters share cumulative reports."},{"path":"/articles/1-data-tidying.html","id":"quantity","dir":"Articles","previous_headings":"fetch_fts_data","what":"Quantity","title":"1-Data Tidying","text":"amountUSD Total Amount US$ fullParkedAmountUSD originalAmount originalCurrency Original Currency currency humanitarian fund reported. exchangeRate blank, FTS use UN Operational Exchange Rate (https://treasury.un.org/operationalrates/OperationalRates.php), grant decision date","code":""},{"path":"/articles/1-data-tidying.html","id":"date","dir":"Articles","previous_headings":"fetch_fts_data","what":"Date","title":"1-Data Tidying","text":"budgetYear Indicate year funding used. FTS works calendar year system (January December year) date Date submited FTS decisionDate Date grant agreement signed recipient organization donor organization. date official endorsement donor member state firstReportedDate createdAt updatedAt","code":""},{"path":"/articles/1-data-tidying.html","id":"source","dir":"Articles","previous_headings":"fetch_fts_data","what":"Source","title":"1-Data Tidying","text":"sourceObjects list variable including: * id\"                    *name” * type can take following values: * “Organization”Source Organisation * “Location” Location source organisation *“UsageYear” Indicate year donor plans allocate funding","code":""},{"path":"/articles/1-data-tidying.html","id":"destination","dir":"Articles","previous_headings":"fetch_fts_data","what":"Destination","title":"1-Data Tidying","text":"destinationObjects list variable including: * id\"                    *name” * type can take following values: * “Cluster” Global Sector refers discrete technical area humanitarian action, whereas field cluster technical area specific coordinated plan. List Global Sectors can found : https://fts.unocha.org/global-sectors/summary/2025. * “GlobalCluster” Global Sector refers discrete technical area humanitarian action, whereas field cluster technical area specific coordinated plan. List Global Sectors can found : https://fts.unocha.org/global-sectors/summary/2025. * “Location” location emergency addressed humanitarian funding reported * “Plan” Destination Plan/Appeal Name = left blank funding outside plan. Refer Coordinated Plans Page FTS website * “UsageYear” * “Organization”Recipient Organisation * “behavior” used two records type - signal breakdown “single” “shared” type==“Organization” - following additional variables available * organizationTypes * organizationSubTypes * organizationLevels","code":"# flows <- fetch_fts_data(year = 2025) #  # names(flows) # dplyr::glimpse(flows) # nrow(flows) # head(flows,1) #  # #sinew::makeOxygen(flows, add_fields = \"source\") # ## Saving it in the package to avoid constnat API Call # save(flows, file =  here::here(\"data\",\"flows.RData\")) # # Note: significantly better compression could be obtained # #by using R CMD build --resave-data # tools::resaveRdaFiles(here::here(\"data\",\"flows.RData\"),compress=\"bzip2\")"},{"path":"/articles/1-data-tidying.html","id":"filter_flows_for_indicators","dir":"Articles","previous_headings":"","what":"filter_flows_for_indicators","title":"1-Data Tidying","text":"","code":"#cleaned <- filter_flows_for_indicators(flows)"},{"path":[]},{"path":"/articles/2-indicators.html","id":"indicator_donor_funding_consistency","dir":"Articles","previous_headings":"Donor","what":"indicator_donor_funding_consistency","title":"2-Indicators","text":"","code":"donors <- indicator_donor_funding_consistency(flows) table(donors$Funding_Consistency_Index) #>  #>   1  #> 249 # library(ggplot2) # ggplot(donors, aes(x = Funding_Consistency_Index)) + #   geom_histogram(fill = \"steelblue\", color = \"white\") + #   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) + #   labs( #     title = \"Distribution of Donor Funding Consistency Index\", #     x = \"\", #     y = \"Number of Donors\", #     caption = paste( #     \"Indicator interpretation:\", #     \"Measures the proportion of years a donor provided funding relative to total  #     years analyzed. Scores range 0-1 where 1 = consistent annual funding.\", #     \"\\n\\n\", #      #     \"How to read the visualization:\", #     \"X-axis shows consistency index values (0-1), Y-axis shows count of donors. #     Bars represent frequency of donors at each consistency level.\", \"\\n\\n\", #      #     \"Humanitarian relevance:\", #     \"Identifies reliable long-term partners vs sporadic funders, helping  #     prioritize relationship building with consistent donors.\", \"\\n\\n\", #      #     \"Source: Financial Tracking Service (FTS) API.\" #   ) #   )"},{"path":"/articles/2-indicators.html","id":"indicator_donor_relationship_duration","dir":"Articles","previous_headings":"Donor","what":"indicator_donor_relationship_duration","title":"2-Indicators","text":"","code":"donors <- indicator_donor_relationship_duration(flows) #> Warning: There were 74 warnings in `dplyr::summarise()`. #> The first warning was: #> ℹ In argument: `first_year = min(budgetYear, na.rm = TRUE)`. #> ℹ In group 7: `donor = \"Al-Salam Association for humanitarian and charitable #>   works\"`. #> Caused by warning in `min()`: #> ! no non-missing arguments to min; returning Inf #> ℹ Run `dplyr::last_dplyr_warnings()` to see the 73 remaining warnings. #table(donor$Relationship_Duration_Index) library(ggplot2) ggplot(donors, aes(x = Relationship_Duration_Index)) +   geom_histogram(binwidth = 0.05, fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Relationship Duration Index\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Measures duration of donor's funding relationship relative to maximum      possible duration. 1 = active since earliest data, 0 = new entrant.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows distribution of duration scores. Left-skewed distribution      indicates many new donors, right-skewed indicates established      relationships.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Long-term donors often have deeper contextual understanding and more      predictable funding patterns for strategic planning.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> Warning: Removed 37 rows containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_donor_funding_growth","dir":"Articles","previous_headings":"Donor","what":"indicator_donor_funding_growth","title":"2-Indicators","text":"","code":"donors <- indicator_donor_funding_growth(flows) #table(donors$Funding_Growth_Trend) library(ggplot2) ggplot(donors, aes(x = Funding_Growth_Trend)) +   geom_histogram( fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Funding Growth Trend\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Linear regression slope of annual funding amounts over time. Positive      values = increasing funding, negative = decreasing funding.\", \"\\n\\n\",          \"How to read the visualization:\",     \"X-axis shows growth rate (USD per year), Y-axis shows donor count. Center      around zero indicates stable funding, right tail indicates growing donors.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies expanding vs contracting funding sources, helping target      advocacy and partnership efforts with growing donors.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 193 rows containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_donor_timing_consistency","dir":"Articles","previous_headings":"Donor","what":"indicator_donor_timing_consistency","title":"2-Indicators","text":"","code":"donors <- indicator_donor_timing_consistency(flows) #table(donors$Timing_Consistency) library(ggplot2) ggplot(donors, aes(x = Timing_Consistency)) +   geom_histogram(binwidth = 0.05, fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Timing Consistency\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Measures regularity of funding distribution across month     (1 = evenly spread, 0 = highly seasonal/erratic). Based on monthly      funding share dispersion.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows consistency scores. Higher values indicate predictable     monthly funding patterns, lower values indicate lumpy or seasonal     disbursements.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Predictable timing enables better cash flow management and program     continuity, reducing operational disruptions in emergency responses.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> Warning: Removed 119 rows containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_donor_systemic_concentration","dir":"Articles","previous_headings":"Donor","what":"indicator_donor_systemic_concentration","title":"2-Indicators","text":"","code":"donors <- indicator_donor_systemic_concentration(flows)  #table(donors$Donor_Concentration_Index)  library(ggplot2) ggplot(donors, aes(x = Donor_Concentration_Index)) +   geom_histogram(binwidth = 0.05, fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Concentration Index\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Herfindahl-Hirschman Index measuring portfolio concentration across      recipients (0 = highly diversified, 1 = focused on few recipients).\",     \"\\n\\n\",          \"How to read the visualization:\",     \"X-axis shows concentration level. Left side indicates donors spreading     funds widely, right side indicates focused funding on few partners.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Helps identify donors with broad partner networks vs specialized      relationships, informing partnership and resource mobilization strategies.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   )"},{"path":"/articles/2-indicators.html","id":"indicator_donor_knowledge_sharing_intensity","dir":"Articles","previous_headings":"Donor","what":"indicator_donor_knowledge_sharing_intensity","title":"2-Indicators","text":"","code":"donors <- indicator_donor_knowledge_sharing_intensity(flows) #table(donors$Knowledge_Sharing_Intensity)  library(ggplot2) # Basic histogram of Knowledge Sharing Intensity ggplot(donors, aes(x = Knowledge_Sharing_Intensity)) +   geom_histogram(binwidth = 0.05, fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Knowledge Sharing Intensity\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Proportion of flows mentioning collaboration, learning, or assessment     activities in descriptions (0 = no mention, 1 = all flows include      knowledge components).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows distribution of knowledge sharing emphasis. Higher values      indicate donors prioritizing learning and coordination in funding.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies donors supporting system-wide learning and coordination,      crucial for improving response effectiveness and accountability.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   )"},{"path":"/articles/2-indicators.html","id":"indicator_donor_sector_alignment","dir":"Articles","previous_headings":"Donor","what":"indicator_donor_sector_alignment","title":"2-Indicators","text":"","code":"flows |>       tidyr::unnest(destinationObjects, names_repair = \"unique\", names_sep = \"_\") |>       dplyr::filter(destinationObjects_type == \"GlobalCluster\") |>       dplyr::pull(destinationObjects_name) |>       unlist() |>       unique() #>  [1] \"Nutrition\"                                  #>  [2] \"Health\"                                     #>  [3] \"Other\"                                      #>  [4] \"Emergency Shelter and NFI\"                  #>  [5] \"Water Sanitation Hygiene\"                   #>  [6] \"Food Security\"                              #>  [7] \"Logistics\"                                  #>  [8] \"Coordination and support services\"          #>  [9] \"Protection - Gender-Based Violence\"         #> [10] \"Multi-sector\"                               #> [11] \"Protection\"                                 #> [12] \"Education\"                                  #> [13] \"Early Recovery\"                             #> [14] \"Protection - Child Protection\"              #> [15] \"Protection - Mine Action\"                   #> [16] \"Agriculture\"                                #> [17] \"Protection - Housing, Land and Property\"    #> [18] \"Camp Coordination / Management\"             #> [19] \"Protection - Human Trafficking & Smuggling\" #> [20] \"Multipurpose Cash\"                          #> [21] \"Emergency Telecommunications\"  # pragmatic default weights - illustrative defaults emphasizing life-saving sectors  # (Nutrition, Health, WASH, Food Security) and cash/multi-sector where relevant. library(tibble)  sectors <- c(  \"Nutrition\",   \"Health\",   \"Emergency Shelter and NFI\",   \"Water Sanitation Hygiene\",  \"Food Security\",  \"Logistics\",   \"Protection - Gender-Based Violence\",   \"Protection - Child Protection\",  \"Protection\",  \"Multipurpose Cash\",   \"Education\",  \"Multi-sector\",  \"Protection - Housing, Land and Property\",  \"Protection - Human Trafficking & Smuggling\",   \"Coordination and support services\",  \"Camp Coordination / Management\",  \"Emergency Telecommunications\",   \"Agriculture\",  \"Early Recovery\",  \"Protection - Mine Action\",   \"Other\" )  # Adjusted scores based on funding collapse and operational risk  adjusted_scores <- c(   10,  # Nutrition: Life-saving and first-line response; malnutrition spikes in   #crises. Funding collapse means ration cuts, so priority remains highest.   9,   # Health: Essential for survival; clinics reverting to 1990s models    #(minimal staff, basic meds). High priority to prevent mortality.   8,   # Emergency Shelter and NFI: Critical for displaced populations;   #exposure risk rises with underfunding. Still high but slightly below health/nutrition.   8,   # Water Sanitation Hygiene (WASH): Prevents disease outbreaks;    #cholera risk escalates when systems fail. Needs strong prioritization.   7,   # Food Security: Linked to nutrition but broader (agriculture, livelihoods).   #Funding gaps mean rationing; still vital but slightly less than direct nutrition.   6,   # Logistics: Backbone for all sectors; underfunding reduces supply chain    #resilience. Important but not life-saving on its own.   7,   # Protection - Gender-Based Violence: GBV spikes in fragile contexts;    #services often first to be cut. Needs strong prioritization for dignity and safety.   6,   # Protection - Child Protection: Critical for safeguarding vulnerable   #children; funding collapse risks exploitation. Medium-high priority.   5,   # Protection (general): Important for rights and safety but less    #immediately life-saving than GBV or child protection.   9,   # Multipurpose Cash: Severely underfunded (only ~20% coverage);   #key for dignity and flexibility. High priority to maintain household resilience.   8,   # Education: Collapsing (21% funded); long-term impact on recovery    #and protection. Elevated priority despite being non-life-saving.   6,   # Multi-sector: Coordination across sectors matters, but direct impact    # is less urgent than core life-saving interventions.   4,   # Protection - Housing, Land and Property: Important for durable   #solutions, but less urgent during acute collapse.   4,   # Protection - Human Trafficking & Smuggling: Serious risk but narrower   #scope; medium-low priority compared to GBV/child protection.   3,   # Coordination and support services: Necessary for system functioning,   # but deprioritized when survival sectors collapse.   3,   # Camp Coordination / Management: Important for organized response,   #but less critical than food, health, WASH.   3,   # Emergency Telecommunications: Enables operations but not directly   #life-saving; deprioritized under severe funding constraints.   5,   # Agriculture: Supports food security and recovery; medium priority    #as immediate needs dominate.   8,   # Early Recovery: Only 17% funded; crucial for resilience and    #preventing protracted crises. Elevated priority despite systemic collapse.   2,   # Protection - Mine Action: Important for safety but less urgent    # than health/nutrition during acute funding collapse.   1    # Other: Catch-all category; lowest priority given resource scarcity. )    sector_capacity <- tibble::tibble(   sector = sectors,   raw_score = adjusted_scores) |>   dplyr::mutate(     capacity_weight = raw_score / sum(raw_score)  # normalize to sum to 1   ) |>   dplyr::select(sector, capacity_weight)  knitr::kable(sector_capacity |> dplyr::arrange(desc(capacity_weight))) donors <- indicator_donor_sector_alignment(flows, sector_capacity)  #table(donor$Sector_Alignment )  library(ggplot2) ggplot(donors, aes(x =Sector_Alignment )) +   geom_histogram(binwidth = 0.05, fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Sector Alignment\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Weighted alignment between donor funding distribution and internal sector     capacity priorities (0 = misaligned, 1 = perfectly aligned with      capacity weights).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows alignment scores. Higher values indicate donors funding      sectors matching organizational capacities and strategic priorities.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Helps identify donors whose funding priorities match operational strengths,     enabling more effective resource allocation and partnership building.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   )"},{"path":"/articles/2-indicators.html","id":"indicator_donor_geographic_alignment","dir":"Articles","previous_headings":"Donor","what":"indicator_donor_geographic_alignment","title":"2-Indicators","text":"","code":"destinations <- flows |>       tidyr::unnest(destinationObjects, names_repair = \"unique\", names_sep = \"_\") |>       dplyr::filter(destinationObjects_type == \"Location\") |>       dplyr::pull(destinationObjects_name) |>       unlist() |>       unique() #dput(destinations)  # High-visibility, acute crises get funded high_visibility <- c(   \"Ukraine\", \"Syrian Arab Republic\", \"Occupied Palestinian Territory\",   \"Sudan\", \"South Sudan\", \"Yemen\", \"Afghanistan\", \"Myanmar\",   \"Ethiopia\", \"Somalia\", \"Democratic Republic of the Congo\",   \"Central African Republic\", \"Haiti\" )  # Long-standing crises with major donor attention maintain coverage long_standing <- c(   \"Lebanon\", \"Jordan\", \"Iraq\", \"Türkiye\", \"Bangladesh\", \"Chad\",   \"Cameroon\", \"Niger\", \"Burkina Faso\", \"Mali\", \"Nigeria\",   \"Colombia\", \"Venezuela, Bolivarian Republic of\" )  # Regional refugee responses collapse regional_refugee <- c(   \"Region - Southern and Eastern Africa\", \"Region - Middle East and Northern Africa\",   \"Region - West and Central Africa\", \"Region - Latin America and the Caribbean\",   \"Region - Asia and the Pacific\", \"Uganda\", \"Kenya\", \"Tanzania, United Republic of\",   \"Djibouti\", \"Mauritania\", \"Cameroon\", \"Moldova, Republic of\" )  # Lower-profile crises get abandoned lower_profile <- c(   \"Burundi\", \"Rwanda\", \"Eritrea\", \"Nepal\", \"Georgia\", \"Cuba\",   \"Dominican Republic\", \"Madagascar\", \"Mozambique\", \"Angola\", \"Malawi\",   \"Comoros\", \"Liberia\", \"Côte d'Ivoire\", \"Senegal\", \"Ghana\", \"Guinea\",   \"Guinea-Bissau\", \"Lesotho\", \"Eswatini\", \"Zambia\", \"Cambodia\",   \"Lao People's Democratic Republic\", \"Philippines\", \"Timor-Leste\",   \"Sri Lanka\", \"Togo\", \"Benin\", \"Gambia\", \"Nicaragua\", \"Honduras\",   \"El Salvador\", \"Guatemala\", \"Costa Rica\", \"Peru\", \"Ecuador\", \"Panama\",   \"Bolivia, Plurinational State of\", \"Papua New Guinea\", \"Solomon Islands\",   \"Kiribati\", \"Vanuatu\", \"Micronesia, Federated States of\", \"Tonga\",   \"Fiji\", \"Cook Islands\", \"Tuvalu\", \"Samoa\", \"Nauru\", \"Niue\", \"Palau\",   \"Maldives\", \"Armenia\", \"Uzbekistan\", \"Kazakhstan\", \"Turkmenistan\",   \"Azerbaijan\", \"Tajikistan\", \"Kyrgyzstan\", \"Mongolia\", \"Mauritius\",   \"Cape Verde\", \"Equatorial Guinea\", \"Gabon\", \"Botswana\", \"Namibia\",   \"Seychelles\", \"Trinidad and Tobago\", \"Grenada\", \"Saint Lucia\",   \"Saint Vincent and the Grenadines\", \"Barbados\", \"Guyana\", \"Suriname\",   \"Belize\", \"Anguilla (United Kingdom)\", \"Aruba (Netherlands)\",   \"Curaçao (Netherlands)\" )   donor <- indicator_donor_geographic_alignment(flows,                         priority_destinations = high_visibility) #table(donor$Geographic_Alignment)  library(ggplot2) ggplot(donor, aes(x = Geographic_Alignment)) +   geom_histogram( fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Geographic Alignment to High Visibility Location\",     x = \"\",     y = \"Number of Destination\",    caption = paste(     \"Indicator interpretation:\",     \"Jaccard similarity between donor-funded locations and priority      locations (0 = no overlap, 1 = identical geographic focus).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows alignment with specified priority locations. Higher      values indicate donors active in organizational priority countries.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies natural partners for priority crises and reveals funding gaps      in key locations needing advocacy attention.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/articles/2-indicators.html","id":"indicator_cross_donor_systemic_destination_alignment","dir":"Articles","previous_headings":"Donor","what":"indicator_cross_donor_systemic_destination_alignment","title":"2-Indicators","text":"","code":"# Compute alignment alignment <- indicator_cross_donor_systemic_destination_alignment(flows)  # Viz library(ggplot2) library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union   # Compute total funding per donor top_donors <- flows |>   tidyr::unnest(sourceObjects, names_sep = \"_\") |>   dplyr::filter(sourceObjects_type == \"Organization\") |>   dplyr::rename(donor = sourceObjects_name) |>   dplyr::group_by(donor) |>   dplyr::summarise(total_funding = sum(amountUSD, na.rm = TRUE),                    .groups = \"drop\") |>   dplyr::arrange(desc(total_funding)) |>   dplyr::slice_head(n = 15) |>   dplyr::pull(donor)  # Filter alignment to top donors alignment_top <- alignment |>   dplyr::filter(donor1 %in% top_donors, donor2 %in% top_donors) |>     dplyr::mutate(       donor1 = stringr::str_wrap(donor1, width = 40),       donor2 = stringr::str_wrap(donor2, width = 40)     )  # Prepare data for ggplot plot_df <- alignment_top |>   dplyr::mutate(     donor1 = factor(donor1),     donor2 = factor(donor2)   )  # Heatmap ggplot(plot_df, aes(x = donor2, y = donor1, fill = Destination_Alignment)) +   geom_tile(color = \"white\") +   scale_fill_viridis_c(option = \"plasma\", na.value = \"grey80\", limits = c(0, 1)) +   unhcrthemes::theme_unhcr(grid = FALSE, axis =  FALSE, axis_title = FALSE, legend=TRUE) +   theme(axis.text.x = element_text(angle = 45, hjust = 1)) +   labs(     title = \"Top 15 Donors to Destination Alignment\",     x = \"Donor 2\",     y = \"Donor 1\",     fill = \"Jaccard\\nSimilarity\",     caption = paste(     \"Indicator interpretation:\",     \"Jaccard similarity measuring overlap in funded locations/clusters      between donor pairs (0 = no overlap, 1 = identical destination portfolios).\",     \"\\n\\n\",          \"How to read the visualization:\",     \"Heatmap shows pairwise alignment. Dark colors indicate high      geographic/thematic overlap, light colors indicate complementary coverage.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies donor clusters with similar focus areas, helping coordinate      advocacy and avoid duplication in under-funded crises.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   )"},{"path":[]},{"path":"/articles/2-indicators.html","id":"indicator_donor_recipient_relationship_duration","dir":"Articles","previous_headings":"Donor to Recipient","what":"indicator_donor_recipient_relationship_duration","title":"2-Indicators","text":"","code":"donor_recipient <- indicator_donor_recipient_relationship_duration(flows) #> Warning: There were 1180 warnings in `dplyr::summarise()`. #> The first warning was: #> ℹ In argument: `first_year = min(budgetYear, na.rm = TRUE)`. #> ℹ In group 3: `donor = \"African Development Bank\"` `recipient = \"Food and #>   Agriculture Organization of the United Nations\"`. #> Caused by warning in `min()`: #> ! no non-missing arguments to min; returning Inf #> ℹ Run `dplyr::last_dplyr_warnings()` to see the 1179 remaining warnings. #table(donor_recipient$Relationship_Duration_Index)  library(ggplot2) ggplot(donor_recipient, aes(x = Relationship_Duration_Index)) +   geom_histogram( fill = \"green\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Recipient Relationship Duration Index\",     x = \"\",     y = \"Number of Donor-Recipient Pairs\",     caption = paste(     \"Indicator interpretation:\",     \"Normalized duration of active funding relationships between donor-recipient     pairs (0=new relationship, 1=active since earliest data).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows relationship longevity across partnerships. Right-skewed      distribution indicates many new relationships, left-skewed indicates      established partnerships.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Long-term partnerships build trust, contextual understanding, and     operational efficiency, leading to more effective crisis response.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 1782 rows containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_donor_recipient_funding_growth","dir":"Articles","previous_headings":"Donor to Recipient","what":"indicator_donor_recipient_funding_growth","title":"2-Indicators","text":"","code":"donor_recipient <- indicator_donor_recipient_funding_growth(flows) #table(donor_recipient$Funding_Growth_Trend)  library(ggplot2) ggplot(donor_recipient, aes(x = Funding_Growth_Trend)) +   geom_histogram( fill = \"green\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Recipient Funding Growth Trend\",     x = \"\",     y = \"Number of Donor-Recipient Pairs\",     caption = paste(     \"Indicator interpretation:\",     \"Linear regression slope of annual funding amounts between donor-recipient      pairs. Positive values=increasing funding, negative=decreasing funding.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows growth patterns across partnerships. Center around zero      indicates stable funding, right tail indicates expanding partnerships.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies growing vs contracting funding relationships, helping prioritize     partnership development and identify successful collaboration models.\",      \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 1782 rows containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_donor_recipient_stability","dir":"Articles","previous_headings":"Donor to Recipient","what":"indicator_donor_recipient_stability","title":"2-Indicators","text":"","code":"donor_recipient <- indicator_donor_recipient_stability(flows) #table(donor_recipient$DonorRecipient_Stability_Index)  library(ggplot2) ggplot(donor_recipient, aes(x = DonorRecipient_Stability_Index)) +   geom_histogram( fill = \"green\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Recipient Stability Index\",     x = \"\",     y = \"Number of Donor-Recipient Pairs\",     caption = paste(     \"Indicator interpretation:\",     \"Proportion of years with active funding between donor-recipient pairs      (0=sporadic funding, 1=consistent annual funding throughout relationship).\",     \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows funding consistency patterns. Higher values indicate      reliable annual partnerships, lower values indicate intermittent engagement.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Consistent funding enables long-term programming, staff retention, and      institutional strengthening rather than project-based short-term engagements.\",      \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 295 rows containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_donor_recipient_concentration","dir":"Articles","previous_headings":"Donor to Recipient","what":"indicator_donor_recipient_concentration","title":"2-Indicators","text":"","code":"donor_recipient <- indicator_donor_recipient_concentration(flows) #table(donor_recipient$DonorRecipient_Stability_Index)  library(ggplot2) ggplot(donor_recipient, aes(x = DonorRecipient_Concentration_Index)) +   geom_histogram( fill = \"green\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Recipient Concentration Index\",     x = \"\",     y = \"Number of Donor-Recipient Pairs\",     caption = paste(     \"Indicator interpretation:\",     \"Share of recipient's total funding coming from specific donor (0-1).      Higher values indicate recipient dependency on that donor.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows dependency levels across partnerships. Values near 1      indicate critical donor dependencies requiring diversification strategies.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies vulnerable partnerships where recipient organizations risk      severe disruption if key donors change funding priorities.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 1 row containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_donor_recipient_trend","dir":"Articles","previous_headings":"Donor to Recipient","what":"indicator_donor_recipient_trend","title":"2-Indicators","text":"","code":"donor_recipient <- indicator_donor_recipient_trend(flows) #table(donor_recipient$DonorRecipient_Trend_Index)  library(ggplot2) ggplot(donor_recipient, aes(x = DonorRecipient_Trend_Index)) +   geom_histogram( fill = \"green\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Recipient Trend Index\",     x = \"\",     y = \"Number of Donor-Recipient Pairs\",     caption = paste(     \"Indicator interpretation:\",     \"Linear trend of funding amounts between donor-recipient pairs over time.      Positive=increasing investment, negative=phasing out partnership.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows partnership evolution patterns. Right of zero indicates      growing collaborations, left indicates declining engagements.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Reveals evolving partnership strategies - scaling successful collaborations     vs exiting less effective ones - informing relationship management.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 1782 rows containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_donor_recipient_reciprocity","dir":"Articles","previous_headings":"Donor to Recipient","what":"indicator_donor_recipient_reciprocity","title":"2-Indicators","text":"","code":"donor_recipient <- indicator_donor_recipient_reciprocity(flows) #table(donor_recipient$DonorRecipient_Reciprocity_Ratio)  library(ggplot2) ggplot(donor_recipient, aes(x = DonorRecipient_Reciprocity_Ratio)) +   geom_histogram( fill = \"green\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Recipient Reciprocity Ratio\",     x = \"\",     y = \"Number of Donor-Recipient Pairs\",     caption = paste(     \"Indicator interpretation:\",     \"Binary indicator of mutual funding relationships where both organizations      act as donor and recipient to each other (0=one-way, 1=reciprocal).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Two bars showing proportion of one-way vs reciprocal partnerships.      Higher reciprocal values indicate collaborative funding ecosystems.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Reciprocal funding indicates consortia, pooled funds, or collaborative      programming arrangements that enhance coordination and local ownership.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":[]},{"path":"/articles/2-indicators.html","id":"indicator_donor_destination_coverage","dir":"Articles","previous_headings":"Donor to Destination","what":"indicator_donor_destination_coverage","title":"2-Indicators","text":"","code":"donor <- indicator_donor_destination_coverage(flows) #table(donor$DonorDestination_Concentration_Index)  library(ggplot2) ggplot(donor, aes(x = DonorDestination_Coverage_Index)) +   geom_histogram( fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Destination Coverage Index\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Proportion of total destinations supported by donor (0 = few locations,     1 = active in all locations in dataset).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows coverage breadth. Higher values indicate donors with global     reach, lower values indicate regionally focused donors.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies global players vs regional specialists, informing crisis-specific     partnership strategies and gap analysis.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/articles/2-indicators.html","id":"indicator_donor_destination_trend","dir":"Articles","previous_headings":"Donor to Destination","what":"indicator_donor_destination_trend","title":"2-Indicators","text":"","code":"donor <- indicator_donor_destination_trend(flows) #table(donor$DonorDestination_Focus_Trend)  library(ggplot2) ggplot(donor, aes(x = DonorDestination_Focus_Trend)) +   geom_histogram( fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Destination Focus Trend\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Linear trend of geographic concentration over time (negative = diversifying,     positive = focusing, zero = stable portfolio strategy).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows trend direction. Left of zero indicates donors broadening      geographic scope, right indicates narrowing focus.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Reveals evolving donor strategies - expansion into new crises vs      consolidation in core locations - for anticipating partnership      opportunities.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 187 rows containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_donor_destination_concentration","dir":"Articles","previous_headings":"Donor to Destination","what":"indicator_donor_destination_concentration","title":"2-Indicators","text":"","code":"donor <- indicator_donor_destination_concentration(flows) #table(donor$DonorDestination_Concentration_Index)  library(ggplot2) ggplot(donor, aes(x = DonorDestination_Concentration_Index)) +   geom_histogram( fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Destination Concentration Index\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Herfindahl-Hirschman Index measuring geographic portfolio concentration      (0 = highly diversified, 1 = focused on few locations/plans).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows concentration levels. Left indicates global spread, right      indicates focused geographic operations in few crises.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Helps understand donor geographic strategies - specialized crisis      responders vs broad global supporters - for targeted engagement.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/articles/2-indicators.html","id":"indicator_donor_destination_earmarking_flexibility","dir":"Articles","previous_headings":"Donor to Destination","what":"indicator_donor_destination_earmarking_flexibility","title":"2-Indicators","text":"","code":"donor_destination <- indicator_donor_destination_earmarking_flexibility(flows) #table(donor_destination$Earmarking_Flexibility) donor_destination <- indicator_donor_destination_earmarking_flexibility(flows)  # ---- Select top donors & top destinations by total USD ---- top_donors <- donor_destination |>   dplyr::group_by(donor) |>   dplyr::summarise(total = sum(total_amount, na.rm = TRUE)) |>   dplyr::arrange(desc(total)) |>   dplyr::slice_head(n = 15)  top_destinations <- donor_destination |>   dplyr::group_by(destination) |>   dplyr::summarise(total = sum(total_amount, na.rm = TRUE)) |>   dplyr::arrange(desc(total)) |>   dplyr::slice_head(n = 15)  donor_destination_top15 <- donor_destination |>   dplyr::filter(     donor %in% top_donors$donor,     destination %in% top_destinations$destination   )  # (Optional) reorder factors for readability donor_destination_top15 <- donor_destination_top15 |>   dplyr::mutate(     donor = factor(donor, levels = sort(unique(donor))),     destination = factor(destination, levels = sort(unique(destination)))   )  # ---- ggplot2 heatmap ---- ggplot2::ggplot(   donor_destination_top15,   ggplot2::aes(     x = destination,     y = donor,     fill = Earmarking_Flexibility   ) ) +   ggplot2::geom_tile(color = \"white\") +    # Color-blind friendly scale   viridis::scale_fill_viridis(     name = \"Flexibility\",     option = \"viridis\",      # color-blind friendly     direction = 1,     limits = c(0.25, 1.0),     na.value = \"grey80\"   ) +   ggplot2::labs(     title = \"Donor–Destination Earmarking Flexibility     (Top 15 Donors & Destinations)\",     subtitle = \"Weighted average flexibility score      (1.0 = unearmarked → 0.25 = tightly earmarked)\",     x = \"Destination Country\",     y = \"Donor\",     caption = paste(     \"Indicator interpretation:\",     \"Weighted average earmarking flexibility for donor-destination pairs      (1=unearmarked, 0.75=softly earmarked, 0.5=earmarked, 0.25=tightly earmarked).\",     \"\\n\\n\",          \"How to read the visualization:\",     \"Heatmap shows flexibility patterns. Darker colors indicate more flexible      funding arrangements between specific donor-destination combinations.\",      \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies which donors provide flexible funding to specific crises,     enabling context-responsive programming and local decision-making.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   ggplot2::theme(     axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),     legend.position = \"right\",     panel.grid = ggplot2::element_blank()   )"},{"path":"/articles/2-indicators.html","id":"indicator_donor_destination_risk_tolerance","dir":"Articles","previous_headings":"Donor to Destination","what":"indicator_donor_destination_risk_tolerance","title":"2-Indicators","text":"","code":"donor_risk <- indicator_donor_destination_risk_tolerance(   flows,   high_risk_locations = c(\"Sudan\", \"South Sudan\", \"Somalia\", \"Afghanistan\"),   new_partners        = c(\"Local NGO A\", \"Community Org B\") )  # Identify top 15 donors by total contributions top15 <- donor_risk |>   dplyr::arrange(desc(total)) |>   dplyr::slice_head(n = 15)  donor_risk_top15 <- donor_risk |>   dplyr::filter(donor %in% top15$donor) |>   dplyr::mutate(     donor = factor(donor, levels = top15$donor)   )  # ---- ggplot2 visualisation (viridis) ---- ggplot2::ggplot(   donor_risk_top15,   ggplot2::aes(     x = donor,     y = Risk_Tolerance,     fill = Risk_Tolerance   ) ) +   ggplot2::geom_col() +   viridis::scale_fill_viridis(     name = \"Risk Tolerance\",     option = \"viridis\",     direction = 1,     limits = c(0, 1),     na.value = \"grey80\"   ) +   ggplot2::coord_flip() +   ggplot2::labs(     title = \"Donor Risk Tolerance (Top 15 Donors)\",     subtitle = \"Share of funding directed to high-risk locations or new partners\",     x = \"Donor\",     y = \"Risk Tolerance (0–1)\",     caption = paste(     \"Indicator interpretation:\",     \"Share of donor funding going to high-risk locations or new/untested partners.     Higher values indicate greater risk tolerance in funding decisions.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Bar chart shows risk tolerance levels across top donors. Higher bars      indicate donors more willing to fund in complex environments or with new      partners.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies donors supporting frontline response in most challenging      contexts and investing in local capacity building through new partnerships.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   ggplot2::theme(     panel.grid.minor = ggplot2::element_blank(),     legend.position = \"right\"   )"},{"path":"/articles/2-indicators.html","id":"indicator_donor_destination_stability","dir":"Articles","previous_headings":"Donor to Destination","what":"indicator_donor_destination_stability","title":"2-Indicators","text":"","code":"# Compute indicator donor_destination<- indicator_donor_destination_stability(flows)  # Identify top 15 destinations by number of active donors or total flows top_destinations <- donor_destination |>   dplyr::group_by(destination) |>   dplyr::summarise(total_stability = sum(DonorDestination_Stability_Index,                                          na.rm = TRUE)) |>   dplyr::arrange(desc(total_stability)) |>   dplyr::slice_head(n = 15)  stability_top <- donor_destination |>   dplyr::filter(destination %in% top_destinations$destination) |>   dplyr::mutate(     destination = factor(destination, levels = top_destinations$destination),     donor = factor(donor)   )  # ---- ggplot2 visualisation ---- ggplot2::ggplot(   stability_top,   ggplot2::aes(     x = destination,     y = donor,     fill = DonorDestination_Stability_Index   ) ) +   ggplot2::geom_tile(color = \"white\") +      viridis::scale_fill_viridis(     name = \"Stability (0–1)\",     option = \"viridis\",     limits = c(0, 1),     na.value = \"grey80\"   ) +      ggplot2::labs(     title = \"Donor → Destination Geographic Stability Index\",     subtitle = \"Share of years each donor funded a destination     (0 = occasional; 1 = consistent every year)\",     x = \"Destination\",     y = \"Donor\",     caption = paste(     \"Indicator interpretation:\",     \"Proportion of years with active funding between donor-destination pairs     (0=sporadic engagement, 1=consistent annual funding throughout period).\",      \"\\n\\n\",          \"How to read the visualization:\",     \"Heatmap shows funding consistency patterns. Darker colors indicate stable      long-term donor engagement in specific crisis contexts.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies donors providing predictable funding to specific crises,      enabling long-term programming and sustainable response capacity building.\",      \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) +      unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   ggplot2::theme(     axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),     panel.grid = ggplot2::element_blank(),     legend.position = \"right\"   )"},{"path":[]},{"path":"/articles/2-indicators.html","id":"indicator_recipient_funding_share","dir":"Articles","previous_headings":"Recipient","what":"indicator_recipient_funding_share","title":"2-Indicators","text":"","code":"recipients <- indicator_recipient_funding_share(flows) #table(recipients$Funding_Volume_Share)  library(ggplot2) # Basic histogram of Knowledge Sharing Intensity ggplot(recipients, aes(x = Funding_Volume_Share)) +   geom_histogram( fill = \"lightgreen\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Recipients Funding Volume Share\",     x = \"\",     y = \"Number of Recipients\",     caption = paste(     \"Indicator interpretation:\",     \"Measures the proportion of total humanitarian funding received by each      recipient organization. Higher values indicate larger market share.\",      \"\\n\\n\",          \"How to read the visualization:\",     \"X-axis shows funding share (0-1), Y-axis shows recipient count. Most      recipients will have small shares, few will dominate (right tail).\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies major implementing partners and market concentration, helping      understand dependency risks and partnership opportunities.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/articles/2-indicators.html","id":"indicator_recipient_amount_stability","dir":"Articles","previous_headings":"Recipient","what":"indicator_recipient_amount_stability","title":"2-Indicators","text":"","code":"recipients <- indicator_recipient_amount_stability(flows) #table(recipients$Amount_Stability)  library(ggplot2) ggplot(recipients, aes(x = Amount_Stability)) +   geom_histogram( fill = \"lightgreen\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Recipients Amount Stability\",     x = \"\",     y = \"Number of Recipients\",     caption = paste(     \"Indicator interpretation:\",     \"Measures year-to-year funding stability as 1 minus coefficient of variation.     1 = perfectly stable annual funding, lower values = volatile funding      patterns.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows stability scores. Higher values indicate predictable funding     streams, negative values indicate high volatility (SD > mean).\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Stable funding enables long-term programming and institutional strengthening,     while volatility disrupts operations and staff retention.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 564 rows containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_recipient_cofunding_rate","dir":"Articles","previous_headings":"Recipient","what":"indicator_recipient_cofunding_rate","title":"2-Indicators","text":"","code":"recipients <- indicator_recipient_cofunding_rate(flows) #table(recipients$Co_Funding_Rate)  library(ggplot2) ggplot(recipients, aes(x = Co_Funding_Rate)) +   geom_histogram( fill = \"lightgreen\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Recipients CoFunding Rate\",     x = \"\",     y = \"Number of Recipients\",     caption = paste(     \"Indicator interpretation:\",     \"Percentage of funding flows where recipient shares funding with other      organizations (not sole recipient). 0 = always sole recipient,      1 = always co-funded.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows co-funding frequency. Higher values indicate collaborative     funding arrangements, lower values indicate standalone projects.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies organizations experienced in consortium work and coordination,     crucial for complex multi-partner responses and integrated programming.\",      \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/articles/2-indicators.html","id":"indicator_recipient_systemic_diversification","dir":"Articles","previous_headings":"Recipient","what":"indicator_recipient_systemic_diversification","title":"2-Indicators","text":"","code":"recipients <- indicator_recipient_systemic_diversification(flows) #table(recipients$Recipient_Diversification_Index)  library(ggplot2) ggplot(recipients, aes(x = Recipient_Diversification_Index)) +   geom_histogram( fill = \"lightgreen\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Recipient Diversification Index\",     x = \"\",     y = \"Number of Recipients\",     caption = paste(     \"Indicator interpretation:\",     \"Entropy-based measure of funding source diversification across donors.      0 = dependent on single donor,     1 = perfectly diversified across many donors.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows diversification levels. Higher values indicate resilient      funding bases, lower values indicate donor concentration risks.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Diversified funding reduces vulnerability to individual donor policy      changes and enhances organizational sustainability and independence.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 600 rows containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":[]},{"path":"/articles/2-indicators.html","id":"indicator_destination_modality_innovation","dir":"Articles","previous_headings":"Destination","what":"indicator_destination_modality_innovation","title":"2-Indicators","text":"","code":"destination <- indicator_destination_modality_innovation(flows) #table(destination $Recipient_Diversification_Index)  library(ggplot2) ggplot(destination, aes(x = Modality_Innovation)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Modality Innovation\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Percentage of funding using Cash Transfer Programming (CTP) per destination.     Higher values indicate greater adoption of innovative cash-based approaches.\",     \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows CTP adoption rates across destinations. Right-skewed      distribution indicates most destinations have low CTP usage, few are CTP      leaders.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Cash programming increases efficiency, dignity, and local market benefits.     Identifies destinations where cash coordination capacity may need      strengthening.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/articles/2-indicators.html","id":"indicator_destination_pipeline_visibility","dir":"Articles","previous_headings":"Destination","what":"indicator_destination_pipeline_visibility","title":"2-Indicators","text":"","code":"destination <- indicator_destination_pipeline_visibility(flows) #table(destination$Recipient_Diversification_Index)  library(ggplot2) ggplot(destination, aes(x = Pipeline_Visibility)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Pipeline Visibility\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Proportion of funding flows extending beyond current year. Higher values     indicate better forward visibility and multi-year planning capacity.\",     \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows pipeline visibility across destinations. Most destinations     cluster near zero, indicating predominantly annual funding cycles.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Multi-year funding enables strategic programming, staff retention, and     sustainable crisis response rather than short-term emergency patches.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/articles/2-indicators.html","id":"indicator_destination_earmarking_flexibility","dir":"Articles","previous_headings":"Destination","what":"indicator_destination_earmarking_flexibility","title":"2-Indicators","text":"","code":"destination <- indicator_destination_earmarking_flexibility(flows) #table(destination$Earmarking_Flexibility)  library(ggplot2) ggplot(destination, aes(x = Earmarking_Flexibility)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Earmarking Flexibility\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Weighted average of earmarking flexibility (1=unearmarked, 0.75=softly     earmarked, 0.5=earmarked, 0.25=tightly earmarked). Higher values indicate      more flexible funding.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows flexibility scores. Higher values indicate destinations      receiving more unearmarked funding for adaptive programming.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Flexible funding enables context-responsive programming, local leadership,      and efficient resource allocation based on evolving needs rather than      rigid donor requirements.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 1 row containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_destination_donor_diversity","dir":"Articles","previous_headings":"Destination","what":"indicator_destination_donor_diversity","title":"2-Indicators","text":"","code":"destination <- indicator_destination_donor_diversity(flows) #table(destination$Earmarking_Flexibility)  library(ggplot2) ggplot(destination, aes(x = Destination_Donor_Diversity_Index)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Donor Diversity Index\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Inverse Herfindahl-Hirschman Index measuring donor diversification      (0=single donor dependency, 1=highly diversified funding base).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows diversification levels. Higher values indicate resilient     funding ecosystems, lower values indicate vulnerability to individual     donor decisions.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Diversified funding reduces crisis vulnerability to donor policy changes     and ensures more stable response capacity during political shifts.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/articles/2-indicators.html","id":"indicator_destination_funding_stability","dir":"Articles","previous_headings":"Destination","what":"indicator_destination_funding_stability","title":"2-Indicators","text":"","code":"destination <- indicator_destination_funding_stability(flows) #table(destination$Destination_Funding_Stability_Index)  library(ggplot2) ggplot(destination, aes(x = Destination_Funding_Stability_Index)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Funding Stability Index\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"1 minus coefficient of variation of annual funding amounts.      1=perfectly stable, lower values=volatile funding,      negative values=high volatility (SD > mean).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows stability patterns. Higher values enable predictable      programming, negative values indicate boom-bust cycles disrupting operations.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Funding stability enables long-term planning, staff retention, and      consistent service delivery rather than reactive emergency-only responses.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 37 rows containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_destination_funding_trend","dir":"Articles","previous_headings":"Destination","what":"indicator_destination_funding_trend","title":"2-Indicators","text":"","code":"destination <- indicator_destination_funding_trend(flows) #table(destination$Destination_Funding_Growth_Trend)  library(ggplot2) ggplot(destination, aes(x = Destination_Funding_Growth_Trend)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Funding Growth Trend\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Linear regression slope of annual funding over time.      Positive values=increasing funding, negative values=decreasing funding,     zero=stable funding.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows growth/decline patterns. Right of zero indicates expanding     crisis responses, left indicates potential donor fatigue or improving      contexts.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies crises receiving increasing attention vs. those facing funding     declines despite ongoing needs, informing advocacy priorities.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 49 rows containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_destination_donor_retention","dir":"Articles","previous_headings":"Destination","what":"indicator_destination_donor_retention","title":"2-Indicators","text":"","code":"destination <- indicator_destination_donor_retention(flows) #table(destination$Destination_Donor_Retention_Index)  library(ggplot2) ggplot(destination, aes(x = Destination_Donor_Retention_Index)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Donor Retention Index\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Proportion of donors who continue funding a destination year after year.      Higher values indicate loyal donor bases and sustained engagement.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows retention rates. Higher values indicate stable donor      relationships, lower values indicate high donor turnover and relationship     building needs.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Donor retention reduces transaction costs, builds contextual knowledge,      and enables more effective long-term partnerships in complex crises.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/articles/2-indicators.html","id":"indicator_destination_funding_diversity","dir":"Articles","previous_headings":"Destination","what":"indicator_destination_funding_diversity","title":"2-Indicators","text":"","code":"destination <- indicator_destination_funding_diversity(flows) #table(destination$Destination_Funding_Diversity)  library(ggplot2) ggplot(destination, aes(x = Destination_Funding_Diversity)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Funding Diversity\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Shannon entropy-based measure of funding distribution across donors      (0=single donor dominance, 1=perfect diversity across many donors).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows diversity levels. Higher values indicate resilient funding     ecosystems, lower values indicate concentration risks and vulnerability.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Diverse funding bases protect against individual donor withdrawals and     enable more balanced response coordination across multiple priorities.\",      \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 31 rows containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_destination_funding_volatility","dir":"Articles","previous_headings":"Destination","what":"indicator_destination_funding_volatility","title":"2-Indicators","text":"","code":"destination <-indicator_destination_funding_volatility(flows) #table(destination$Destination_Funding_Volatility)  library(ggplot2) ggplot(destination, aes(x = Destination_Funding_Volatility)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Funding Volatility\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"1 minus coefficient of variation of annual funding (0=highly volatile,     1=perfectly stable). Inverse measure of year-to-year funding     unpredictability.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows volatility patterns. Higher values enable predictable      programming, lower values indicate disruptive funding fluctuations.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Funding volatility disrupts staffing, procurement, and program continuity,      reducing operational efficiency and response effectiveness.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 36 rows containing non-finite outside the scale range #> (`stat_bin()`)."},{"path":"/articles/2-indicators.html","id":"indicator_destination_dependency","dir":"Articles","previous_headings":"Destination","what":"indicator_destination_dependency","title":"2-Indicators","text":"","code":"destination <-indicator_destination_dependency(flows) #table(destination$Destination_Dependency_Index)  library(ggplot2) ggplot(destination, aes(x = Destination_Dependency_Index)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Dependency Index\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Share of total funding from largest single donor (0-1). Higher values      indicate heavy reliance on one donor, creating vulnerability.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows dependency levels. Values near 1 indicate high-risk      single-donor dependencies requiring diversification strategies.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Single-donor dependency creates systemic risk - if that donor changes      priorities, entire crisis responses can be jeopardized.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/articles/2-indicators.html","id":"indicator_destination_modality_balance","dir":"Articles","previous_headings":"Destination","what":"indicator_destination_modality_balance","title":"2-Indicators","text":"","code":"destination <- indicator_destination_modality_balance(flows) #table(destination$Destination_Modality_Balance)  library(ggplot2) ggplot(destination, aes(x = Destination_Modality_Balance)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Modality Balance\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Share of cash-based programming (CTP) relative to all modalities (0-1).     Higher values indicate greater cash modality utilization.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows CTP adoption across destinations. Most destinations cluster     near zero, indicating traditional in-kind programming dominance.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Appropriate modality balance ensures efficient, dignified assistance while     maintaining essential in-kind support where markets are non-functional.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/articles/5-visualisation.html","id":"generate_plot_story","dir":"Articles","previous_headings":"","what":"generate_plot_story","title":"5-Visualisation","text":"","code":"library(ggplot2) p <- ggplot(mtcars, aes(x = wt, y = mpg)) +    geom_point() +     unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +    labs(title = \"Vehicle Efficiency\",         subtitle = \"Fuel consumption vs weight\",         caption = \"Source: mtcars dataset\")  story <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". cat(story) #> Heavier vehicles consume more fuel. In humanitarian aid, optimizing fleet efficiency stretches resources further, delivering vital support to more people. # To use as subtitle: p + ggplot2::labs(subtitle = story)"},{"path":"/articles/5-visualisation.html","id":"plot_donor_funding_over_time","dir":"Articles","previous_headings":"","what":"plot_donor_funding_over_time","title":"5-Visualisation","text":"","code":"p <- plot_donor_funding_over_time(flows, donor_name= \"Spain, Government of\") #> Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0. #> ℹ Please use `linewidth` instead. #> ℹ The deprecated feature was likely used in the ftsAnalysis package. #>   Please report the issue to the authors. #> This warning is displayed once every 8 hours. #> Call `lifecycle::last_lifecycle_warnings()` to see where this warning was #> generated.  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> **Spain's Evolving Humanitarian Commitment: A Rising Tide of Support** #>  #> The Government of Spain has demonstrated a dynamic and ultimately escalating commitment to global humanitarian action, with significant funding increases marked in recent years. After an initial contribution of approximately €10.1 million in 2022, there was a temporary dip to €1.5 million in 2023. #>  #> However, this was swiftly followed by a powerful resurgence of support. Spain's humanitarian funding soared to over €50 million in 2024, marking a substantial fivefold increase from its 2022 levels. This upward trajectory is projected to continue, with an even more robust contribution of nearly €65 million anticipated in 2025. #>  #> This remarkable growth in funding from the Spanish government is a critical lifeline for humanitarian operations globally. It signifies a deepening resolve to address crises, ensure essential aid reaches vulnerable populations, and strengthen the collective capacity to alleviate human suffering worldwide. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". print(p + ggplot2::labs(subtitle = dubbed)) #> Warning: Removed 1 row containing missing values or values outside the scale range #> (`geom_col()`). #> Warning: Removed 1 row containing missing values or values outside the scale range #> (`geom_line()`). #> Warning: Removed 1 row containing missing values or values outside the scale range #> (`geom_point()`)."},{"path":"/articles/5-visualisation.html","id":"plot_donor_earmarking","dir":"Articles","previous_headings":"","what":"plot_donor_earmarking","title":"5-Visualisation","text":"","code":"p <- plot_donor_earmarking(flows, donor_name= \"Spain, Government of\")  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> The Government of Spain is a vital donor to humanitarian efforts, and this visualization reveals how its contributions are allocated across different earmarking types. The data shows a distinct pattern: a substantial portion of funding is directed towards specific areas (the largest category exceeding €76 million), while other crucial needs receive significantly less (the smallest category just over €8 million). #>  #> This distribution highlights the delicate balance between donor priorities and operational flexibility. While earmarking allows Spain to strategically target funds, it can inadvertently limit the agility of humanitarian organizations on the ground. When funds are heavily earmarked, responders may struggle to quickly reallocate resources to emerging crises, unforeseen challenges, or neglected areas that don't fit a specific funding mandate. #>  #> For effective humanitarian action, particularly in dynamic and unpredictable emergencies, flexible funding is paramount. It empowers aid workers to adapt to evolving needs, address urgent gaps, and ensure resources reach the most vulnerable populations wherever they are. While earmarked contributions are valuable, a balance that includes more flexible support is crucial for a truly agile and responsive global humanitarian system. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/articles/5-visualisation.html","id":"plot_donor_flowtype","dir":"Articles","previous_headings":"","what":"plot_donor_flowtype","title":"5-Visualisation","text":"","code":"p <- plot_donor_flowtype(flows, donor_name= \"Spain, Government of\")  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> The Government of Spain is a committed donor to humanitarian action, but a closer look at its funding mechanisms reveals a highly focused strategy. #>  #> The vast majority of Spain's humanitarian contributions, a substantial **$132.7 million**, are channeled through a single, dominant flow type. This significant allocation highlights a primary pipeline for their aid, suggesting a consistent and robust approach to supporting critical humanitarian needs through a specific, established mechanism. #>  #> In stark contrast, other flow types receive comparatively minimal funding. One secondary flow type accounts for approximately **$286,700**, while a third registers a negligible **$3**. This distribution indicates a clear prioritization in how Spain's humanitarian aid is dispersed, concentrating resources heavily on one main avenue to deliver impact. Understanding these funding pathways is key to optimizing the effectiveness of Spanish aid in reaching vulnerable populations. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/articles/5-visualisation.html","id":"plot_donor_cluster_coverage","dir":"Articles","previous_headings":"","what":"plot_donor_cluster_coverage","title":"5-Visualisation","text":"","code":"p <- plot_donor_cluster_coverage(flows, donor_name= \"Spain, Government of\")  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> The Government of Spain demonstrates a broad commitment to humanitarian aid, channeling support across numerous critical humanitarian clusters. #>  #> However, this support is not uniformly distributed. The data reveals a clear prioritization, with one particular humanitarian cluster (ID 17) receiving a significantly higher number of funding flows – 46 instances of support. This suggests a consistent focus or a critical area of need for Spanish humanitarian assistance. #>  #> Several other clusters also benefit from substantial engagement, with between 18 and 30 funding flows each. In contrast, some clusters receive fewer contributions, ranging from just 1 to 5 flows. This diverse pattern highlights Spain's varied approach to humanitarian action, strategically concentrating efforts in certain areas while maintaining wider coverage where needed. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/articles/5-visualisation.html","id":"plot_recipient_funding_composition","dir":"Articles","previous_headings":"","what":"plot_recipient_funding_composition","title":"5-Visualisation","text":"","code":"p <- plot_recipient_funding_composition(flows,                recipient_name = \"United Nations High Commissioner for Refugees\")  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> The United Nations High Commissioner for Refugees (UNHCR) plays a critical role in protecting and assisting millions of forcibly displaced people worldwide. This visualization offers a crucial look into the funding composition that empowers UNHCR's humanitarian operations, highlighting contributions from various donor organizations. #>  #> The data reveals that while a broad spectrum of donors supports UNHCR, a significant portion of its funding comes from a concentrated group of major contributors. One leading donor alone stands out with over $230 million in contributions, with several others providing tens of millions of dollars. These substantial commitments form the financial bedrock for UNHCR's extensive global response. #>  #> Alongside these large contributions, the chart also shows numerous smaller, yet collectively vital, funding streams. This mix of significant and modest donations is essential for UNHCR's capacity to deliver timely assistance, from providing emergency shelter and food to advocating for the rights of refugees. Understanding this funding landscape is key to ensuring sustained, predictable resources for an organization at the forefront of responding to escalating humanitarian crises. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/articles/5-visualisation.html","id":"plot_recipient_grandbargain","dir":"Articles","previous_headings":"","what":"plot_recipient_grandbargain","title":"5-Visualisation","text":"","code":"p <- plot_recipient_grandbargain(flows,           recipient_name = \"United Nations High Commissioner for Refugees\") #> Scale for y is already present. #> Adding another scale for y, which will replace the existing scale.  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> The Grand Bargain, a critical initiative in humanitarian financing, seeks to improve the efficiency and effectiveness of aid by encouraging greater flexibility in funding. For agencies like the United Nations High Commissioner for Refugees (UNHCR), this means increasing the share of non-earmarked, predictable contributions that allow them to respond to crises with agility and foresight. #>  #> This visualization, detailing the distribution of earmarked versus non-earmarked funding for UNHCR, reveals that flexible funding remains a significant challenge. While precise categories are not labeled, the data clearly shows a substantial portion of UNHCR's support comes with specific conditions. The largest funding segment, exceeding $650 million, likely represents tightly earmarked contributions, dwarfing what appears to be the most flexible funding category, which is only around $128 million. #>  #> This imbalance highlights a key tension in humanitarian response. While donors often earmark funds to ensure accountability and track specific outcomes, this practice can inadvertently hinder UNHCR's ability to allocate resources where needs are most urgent, pivot to sudden emergencies, or support underfunded, protracted crises. To truly realize the Grand Bargain's vision and empower UNHCR to protect and assist vulnerable populations effectively, a greater commitment to unearmarked and softly earmarked funding is essential, enabling quicker, more adaptive, and ultimately more impactful humanitarian action. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/articles/5-visualisation.html","id":"plot_recipient_cofunding","dir":"Articles","previous_headings":"","what":"plot_recipient_cofunding","title":"5-Visualisation","text":"","code":"p <- plot_recipient_cofunding(flows,                recipient_name = \"United Nations High Commissioner for Refugees\")   # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> This visualization illuminates the varied landscape of funding for the UN Refugee Agency (UNHCR), specifically focusing on its involvement in \"multi-recipient\" funding. These are crucial funds distributed among several humanitarian partners, often signaling a coordinated and collaborative response to complex crises. #>  #> The data reveals that UNHCR's co-funding rate isn't consistently high. While in some instances, UNHCR receives funding as a sole recipient, suggesting independent projects, other examples show 100% of the funding coming as part of a joint effort. This spectrum, from fully independent to highly collaborative funding, prompts important questions about the strategic choices and operational contexts influencing these differences. Maximizing multi-recipient funding can significantly enhance the efficiency, reduce duplication, and strengthen the collective impact of humanitarian aid for refugees worldwide. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/articles/5-visualisation.html","id":"plot_recipient_contribution_type","dir":"Articles","previous_headings":"","what":"plot_recipient_contribution_type","title":"5-Visualisation","text":"","code":"p <- plot_recipient_contribution_type(flows,                  recipient_name = \"United Nations High Commissioner for Refugees\")   # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> The United Nations High Commissioner for Refugees (UNHCR) plays a vital role in protecting and assisting millions displaced worldwide. This visualization offers a clear insight into how this crucial work is funded, highlighting the significant preference for financial contributions over in-kind support. #>  #> Our data shows a staggering difference: UNHCR receives over \\$1.4 billion in direct financial contributions compared to approximately \\$1.5 million in in-kind donations. This means for nearly every dollar received in tangible goods or services, the agency receives roughly a thousand dollars in cash. #>  #> This overwhelming reliance on financial aid provides UNHCR with critical flexibility. Monetary contributions enable the agency to procure precisely what's needed, when and where it's needed most – whether that's emergency shelter, food, medical care, or protection services. While all support is valued, this strong financial backing ensures agile, efficient, and adaptable responses to the complex and ever-changing needs of the world's most vulnerable populations. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/articles/5-visualisation.html","id":"plot_location_funding_destination","dir":"Articles","previous_headings":"","what":"plot_location_funding_destination","title":"5-Visualisation","text":"","code":"p <- plot_location_funding_destination(flows, location_name= \"Burundi\")  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> Burundi's humanitarian response relies heavily on international support, and this visualization clearly illustrates the origins of that crucial funding. The data reveals a highly concentrated donor landscape, with one particular donor standing out as the overwhelmingly largest contributor. #>  #> This single donor provides a substantial majority of all reported humanitarian funds for Burundi. While several other partners also contribute millions of dollars, and numerous smaller donors provide valuable assistance, the reliance on a few major sources is evident. #>  #> This funding structure is critical for addressing urgent needs such as food insecurity, health crises, and displacement among vulnerable populations in Burundi. However, such a concentrated donor base also highlights a potential vulnerability; shifts in the priorities or capacity of these major contributors could significantly impact the continuity and scale of life-saving operations for the Burundian people. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/articles/5-visualisation.html","id":"plot_location_funding_donor","dir":"Articles","previous_headings":"","what":"plot_location_funding_donor","title":"5-Visualisation","text":"","code":"p <- plot_location_funding_donor(flows, location_name= \"Burundi\")  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> Burundi's humanitarian efforts depend on the generosity of its international partners. This visualization reveals the landscape of funding contributions, showing a clear disparity among donors. #>  #> One major donor stands out, providing over $81 million in critical support. This substantial contribution forms the backbone of the humanitarian response in Burundi. While other donors also contribute significantly, with several providing multi-million dollar sums, their individual contributions are considerably smaller than the largest one. #>  #> Beneath these larger figures, numerous other donors provide essential, albeit smaller, amounts, demonstrating a broad commitment to Burundi's needs. This funding pattern highlights a reliance on a few key funders, particularly the largest. Ensuring diverse and sustained support from all partners remains crucial to address ongoing humanitarian challenges and build resilience for the people of Burundi. #>  #> Source: OCHA Financial Tracking Service (Flow API) # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/articles/5-visualisation.html","id":"plot_location_heatmap","dir":"Articles","previous_headings":"","what":"plot_location_heatmap","title":"5-Visualisation","text":"","code":"p <- plot_location_heatmap(flows, location_name= \"Burundi\", top_n = 5)  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> For humanitarian efforts in Burundi, understanding the funding landscape is vital. This visualization offers a critical snapshot of the direct financial pathways, tracing aid from the top 5 donor organizations to their direct recipients on the ground. #>  #> By mapping these specific, organization-level flows, we gain crucial clarity on who is funding whom. This transparency is essential for several reasons: it strengthens accountability for aid delivery, helps identify key partnerships, and highlights the distribution of resources within the humanitarian ecosystem. Such detailed insight allows for better strategic planning, enabling donors and implementing partners to coordinate more effectively, minimize overlaps, and ensure that assistance efficiently reaches vulnerable populations in Burundi. This visualization reveals the intricate backbone of the humanitarian response. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/articles/5-visualisation.html","id":"plot_funding_status_timeline","dir":"Articles","previous_headings":"","what":"plot_funding_status_timeline","title":"5-Visualisation","text":"","code":"p <- plot_funding_status_timeline(flows)  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> This visualization tracks the journey of humanitarian funding from initial promises to actual delivery, revealing a critical challenge. While global humanitarian needs continue to rise, so do the *pledges* and *commitments* made by donors, particularly in recent years and projected into the near future. We observe substantial sums being committed, indicating a willingness to support. #>  #> However, a stark disparity emerges when we look at the *paid funding*. Actual disbursements remain significantly lower than the pledged and committed amounts. This widening gap suggests a bottleneck in the funding pipeline. For example, while billions are pledged and committed for 2024 and 2025, only a fraction has been paid out. #>  #> This translates directly into delays in essential aid reaching people in crisis. Pledges and commitments, while crucial, do not feed the hungry or provide shelter. The insights from this timeline underscore the urgent need for faster, more efficient conversion of promises into tangible financial flows. Bridging this gap is vital to ensure that humanitarian assistance can be delivered effectively and on time to those who need it most. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed) #> Warning: Removed 3 rows containing missing values or values outside the scale range #> (`geom_line()`). #> Warning: Removed 3 rows containing missing values or values outside the scale range #> (`geom_point()`)."},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Edouard Legoupil. Author, maintainer. UNHCR. Copyright holder.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Legoupil E (2025). ftsAnalysis: Build Analysis OCHA Finantial Tracking Service. R package version 0.0.0.9000.","code":"@Manual{,   title = {ftsAnalysis: Build Analysis from OCHA Finantial Tracking Service},   author = {Edouard Legoupil},   year = {2025},   note = {R package version 0.0.0.9000}, }"},{"path":"/index.html","id":"ftsanalysis","dir":"","previous_headings":"","what":"Build Analysis from OCHA Finantial Tracking Service","title":"Build Analysis from OCHA Finantial Tracking Service","text":"goal {ftsAnalysis} provide set metrics, index, analysis visualization better understand data OCHA Financial Tracking Service. package enables creation detailed reports, included automated AI analysis 3 angles: Donors Recipients Destinations","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Build Analysis from OCHA Finantial Tracking Service","text":"can install development version ftsAnalysis GitHub : package includes function build data stories plot. use can use Ollama Set LLM inference API key environment :","code":"# install.packages(\"pak\") pak::pak(\"Edouard-Legoupil/ftsAnalysis\") Sys.setenv(OPENAI_API_KEY = \"<YOUR_OPENAI_KEY>\") Sys.setenv(GEMINI_API_KEY = \"<YOUR_GOOGLE_GEMINI_KEY>\") Sys.setenv(ANTHROPIC_API_KEY = \"<YOUR_ANTHROPIC_KEY>\")"},{"path":"/reference/fetch_fts_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch FTS Flow Data with Pagination — fetch_fts_data","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"Retrieves FTS flow data specified year, handling API pagination pull available results, just first page.","code":""},{"path":"/reference/fetch_fts_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"","code":"fetch_fts_data(year = 2023, limit = 1000)"},{"path":"/reference/fetch_fts_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"data frame funding flow records containing following variables:","code":""},{"path":"/reference/fetch_fts_data.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"FTS (Financial Tracking Service) database","code":""},{"path":"/reference/fetch_fts_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"year Integer. Year fetch data (default: 2023). limit Integer. Maximum number flows per page (API max: 1000).","code":""},{"path":"/reference/fetch_fts_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"Data frame FTS flows specified criteria.#' dataset containing funding flow information FTS database.","code":""},{"path":"/reference/fetch_fts_data.html","id":"identifiers","dir":"Reference","previous_headings":"","what":"Identifiers","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"id character Unique identifier row, used updates funding record versionId character Version identifier childFlowIds character FTS database allows funding flows linked together represent funding cascading implementation chain primary donors field implementers. flows chained together way, flow downstream flow viewed referred child flow. child flows parent flow upstream. parentFlowId character FTS database allows funding flows linked together represent funding cascading implementation chain primary donors field implementers. flows chained together way, flow upstream flow viewed referred parent flow. parent flows one child flows downstream. flowType factor Type flow levels: \"Carryover\", \"Parked\", \"Pass \", \"Standard\" refCode character code related grant agreement fund, ideally known donor recipient organizations","code":""},{"path":"/reference/fetch_fts_data.html","id":"report-details","dir":"Reference","previous_headings":"","what":"Report Details","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"reportDetails list containing: sourceType organization reportChannel date","code":""},{"path":"/reference/fetch_fts_data.html","id":"flow-description","dir":"Reference","previous_headings":"","what":"Flow Description","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"description character Brief description destination activity/project, location within country, duration grandBargainEarmarkingType character Modality earmarking (Earmarked, Softly earmarked, Tightly earmarked, Unearmarked) contributionType character Type contribution: \"financial\" \"-kind\" reportingStatus character Status humanitarian fund reported per row: \"New Contribution\", \"Top-/Update\", \"Old Contribution\" newMoney logical TRUE/FALSE indicating new money keywords character Keywords associated flow method character Assistance modality: \"Cash Transfer Programming (CTP)\" \"Traditional\" boundary character Boundary classification: \"incoming\", \"internal\", \"outgoing\" onBoundary logical Indicator flow boundary status character Status humanitarian funding: \"pledge\", \"commitment\", \"paid\"","code":""},{"path":"/reference/fetch_fts_data.html","id":"quantity","dir":"Reference","previous_headings":"","what":"Quantity","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"amountUSD numeric Total Amount US$ fullParkedAmountUSD numeric Full parked amount US$ originalAmount numeric Original amount original currency originalCurrency character Original currency humanitarian fund reported exchangeRate numeric Exchange rate used conversion. blank, FTS uses UN Operational Exchange Rate grant decision date","code":""},{"path":"/reference/fetch_fts_data.html","id":"date","dir":"Reference","previous_headings":"","what":"Date","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"budgetYear integer Year funding used. FTS works calendar year system (January December) date Date Date submitted FTS decisionDate Date Date grant agreement signing official endorsement donor member state firstReportedDate Date First reported date createdAt Date Record creation date updatedAt Date Record last update date","code":""},{"path":"/reference/fetch_fts_data.html","id":"source-1","dir":"Reference","previous_headings":"","what":"Source","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"sourceObjects list containing source information : id - Source identifier name - Source name type - Source type: \"Organization\" (Source Organisation), \"Location\" (Location source organisation), \"UsageYear\"","code":""},{"path":"/reference/fetch_fts_data.html","id":"destination","dir":"Reference","previous_headings":"","what":"Destination","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"destinationObjects list containing destination information : id - Destination identifier name - Destination name type - Destination type: \"Cluster\" (technical area specific coordinated plan), \"GlobalCluster\" (global technical area), \"Location\" (emergency addressed), \"Plan\" (Destination Plan/Appeal), \"UsageYear\", \"Organization\" (Recipient Organisation) behavior - Behavior multiple records type: \"single\" \"shared\" type \"Organization\", additional variables: organizationTypes organizationSubTypes organizationLevels","code":""},{"path":"/reference/fetch_fts_data.html","id":"flow-type-details","dir":"Reference","previous_headings":"","what":"Flow Type Details","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"Carryover  Parked 'parked' flow refers funding flow initially may allocated specific organizations sectors, additional information forthcoming. 'Parked' funding usually parent flow number linked child flows. Parking parent flow allows children reflect source information linked parent. Parked records either major funding decisions (e.g. ECHO decisions begin large funding envelope without destination organizations) information recipients determined later time (added child flows), multi-year funding records yearly contributions broken child flows 'parked' flow. Pass Pass-funding refers downstream funding allocations (e.g. Donor UN Agency NGO, Donor International NGO Local NGO, etc.) Standard","code":""},{"path":"/reference/fetch_fts_data.html","id":"grand-bargain-earmarking-types","dir":"Reference","previous_headings":"","what":"Grand Bargain Earmarking Types","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"Unearmarked : Fully flexible core contribution - Financial contribution aid organisation budget, fully flexible (within boundaries set mandates, governing body regulations etc.) B: Fully flexible core contribution CERF - Financial contribution CERF budget, fully flexible within CERF regulations. C: Core contribution - Financial contribution significant part aid organisation's mandate, e.g. restricted humanitarian operations double-mandated organisation. aid organisation can instructed distribute discretion - several strategic objectives/regions/crises avoid entire contribution used one context. Softly earmarked D: Core contribution limitations - Financial contribution, exclusions pertaining small number specific countries. aid organisation can instructed use funding outside certain areas countries. E: Directed geographical region strategic objective - Financial contribution, fully flexible within boundaries strategic objective (e.g. health education) region (e.g. Africa). reflect priorities Strategic Plan approved relevant governing body. F: Directed Country-Based Pooled Fund - Financial contribution directed specific Country-Based Pooled Fund, otherwise fully flexible. Earmarked G: Directed aid organisation's country operations - Financial contribution, directed specific country, otherwise fully flexible. reflect priorities set relevant governing body regarding country operations. H: Directed subobjective/target - Financial contribution, directed subcategories strategic objectives, e.g. health/malaria education /teacher training, without geographical limitations. reflect priorities Strategic Plan approved relevant governing body. Tightly earmarked : Directed specific project - Financial contribution directed specific project specific country. J: Directed geographically thematically, tied financial - Financial contribution, tied certain conditions terms purchase restrictions, directed specific country/region specific objective. instance, financial contribution purchase ABC school feeding X-land. K: Directed geographically thematically, kind - -kind contribution directed specific country/region specific objective. instance, rice school feeding X-land. L: Donor-initiated projects/directed contributions - Financial contribution coupled demand specific project specific country fulfilling donor priorities. reflecting Strategic Plan aid organisation. instance, becomes service provider. also put strain non-project support costs (overhead costs).","code":""},{"path":"/reference/fetch_fts_data.html","id":"reporting-status","dir":"Reference","previous_headings":"","what":"Reporting Status","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"New Contribution fund reported FTS reporter first time Top-/Update fund reported FTS reporter now update amount /details Old Contribution fund reported FTS reporter change. Used reporters share cumulative reports","code":""},{"path":"/reference/fetch_fts_data.html","id":"method","dir":"Reference","previous_headings":"","what":"Method","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"Cash Transfer Programming (CTP) Refers programs cash (vouchers goods services) directly provided beneficiaries. CTP can three types: cash, mobile phone transfer vouchers. Traditional Non-cash assistance provided form materials services (.e. food, tents, PSS, secondment staff). FTS refers humanitarian assistance modalities traditional aid.","code":""},{"path":"/reference/fetch_fts_data.html","id":"boundary","dir":"Reference","previous_headings":"","what":"Boundary","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"Boundaries classify relevant flows categories incoming, internal outgoing. FTS database records flows funding, draws boundaries around (combinations ) flow properties calculate totals. Examples common boundaries response plan/appeal combination (donor affected) country year. Drawing boundary classifies flows database crossing boundary inward (incoming flows), originating terminating within boundary (internal flows), crossing outwards (outgoing flows), fourth category displayed - irrelevant boundary originate terminate outside . incoming Flows cross given search boundary inwards. boundary e.g. affected country year, flows originating donor countries multilateral organisations attributed country incoming flows, carry-previous year. avoid double-counting, incoming flows never added internal flows. internal Flows originating terminating within boundary outgoing Flows originate within terminate outside given search boundary. boundary e.g. affected country year, flows representing carry-overs next year outgoing flows.","code":""},{"path":"/reference/fetch_fts_data.html","id":"status","dir":"Reference","previous_headings":"","what":"Status","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"pledge non-binding announcement intended contribution allocation donor. recipient organization response plan project necessarily specified. soon commitment reported FTS pledge, amount pledge column reduced accordingly. FTS tables therefore show 'outstanding' ('total original') pledge amount. information reported us directly donors agencies may may include verbal commitments made pledging conferences. commitment binding agreement signed parties approval grant donor member state. Creation contractual obligation regarding funding donor appealing agency; almost always takes form signed contract. crucial stage humanitarian funding: agencies spend money implement funding commitment made. paid money transfer realized. FTS track disbursements/installments.","code":""},{"path":"/reference/fetch_fts_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch FTS Flow Data with Pagination — fetch_fts_data","text":"","code":"# flows <- fetch_fts_data(year = 2025) #  # names(flows) # dplyr::glimpse(flows) # nrow(flows) # head(flows,1) #  # #sinew::makeOxygen(flows, add_fields = \"source\") # ## Saving it in the package to avoid constnat API Call # save(flows, file =  here::here(\"data\",\"flows.RData\")) # # Note: significantly better compression could be obtained # #by using R CMD build --resave-data # tools::resaveRdaFiles(here::here(\"data\",\"flows.RData\"),compress=\"bzip2\")"},{"path":"/reference/filter_flows_for_indicators.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter and Normalize FTS Funding Flows for Indicator Computation — filter_flows_for_indicators","title":"Filter and Normalize FTS Funding Flows for Indicator Computation — filter_flows_for_indicators","text":"utility function applies standard set preprocessing filtering rules required computing donor-, recipient-, destination-level indicators FTS (Financial Tracking Service) funding flow data.","code":""},{"path":"/reference/filter_flows_for_indicators.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter and Normalize FTS Funding Flows for Indicator Computation — filter_flows_for_indicators","text":"","code":"filter_flows_for_indicators(flows)"},{"path":"/reference/filter_flows_for_indicators.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter and Normalize FTS Funding Flows for Indicator Computation — filter_flows_for_indicators","text":"flows tibble dataframe containing FTS funding flows, minimum following columns: boundary: classification flow direction relative search boundary childFlowIds: list-column IDs downstream child flows flowType: flow categorization (\"Carryover\", \"Parked\", \"Pass \", \"Standard\") budgetYear: year budget attribution (character, factor, numeric)","code":""},{"path":"/reference/filter_flows_for_indicators.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter and Normalize FTS Funding Flows for Indicator Computation — filter_flows_for_indicators","text":"tibble cleaned normalized flows suitable donor-, recipient-, destination-, donor→recipient indicator functions. returned dataset contains incoming, non-parent, non-parked flows numeric budget years.","code":""},{"path":"/reference/filter_flows_for_indicators.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Filter and Normalize FTS Funding Flows for Indicator Computation — filter_flows_for_indicators","text":"FTS data model contains several elements—funding chains, boundaries, parent/child flows, \"parked\" envelopes—must normalized prior aggregation. function enforces official FTS logic ensure indicators computed without double-counting misclassification funding flows. Key filtering rules applied:","code":""},{"path":"/reference/filter_flows_for_indicators.html","id":"-boundary-filtering","dir":"Reference","previous_headings":"","what":"1. Boundary Filtering","title":"Filter and Normalize FTS Funding Flows for Indicator Computation — filter_flows_for_indicators","text":"incoming flows retained. Incoming flows represent funding entering boundary (e.g., affected country + year, appeal, donor-country-year). standard FTS method calculating donor contributions, prevents contamination : Internal flows (money moving within boundary) Outgoing flows (money leaving boundary) Irrelevant flows (fully outside boundary) Boundary filtering ensures flows relevant selected analytical scope enter indicator dataset.","code":""},{"path":"/reference/filter_flows_for_indicators.html","id":"-parent-child-flow-deduplication","dir":"Reference","previous_headings":"","what":"2. Parent/Child Flow Deduplication","title":"Filter and Normalize FTS Funding Flows for Indicator Computation — filter_flows_for_indicators","text":"FTS allows funding flows \"chained\" represent cascading funding (donor → agency → partner). Parent flows typically high-level envelopes; child flows represent operational allocations. function: Identifies parents presence one childFlowIds. Removes parent flows dataset. prevents double-counting parent envelopes together child breakdowns ensures operational flows used indicator calculations.","code":""},{"path":"/reference/filter_flows_for_indicators.html","id":"-removal-of-parked-flows","dir":"Reference","previous_headings":"","what":"3. Removal of \"Parked\" Flows","title":"Filter and Normalize FTS Funding Flows for Indicator Computation — filter_flows_for_indicators","text":"Flows flowType == \"Parked\" represent undecided envelopes awaiting breakdown child flows (e.g., large ECHO decisions multi-year envelopes). used : donor funding totals donor–recipient relationships sector geographic alignment indicators function removes entirely, relying instead child flows available.","code":""},{"path":"/reference/filter_flows_for_indicators.html","id":"-budget-year-normalization","dir":"Reference","previous_headings":"","what":"4. Budget Year Normalization","title":"Filter and Normalize FTS Funding Flows for Indicator Computation — filter_flows_for_indicators","text":"budgetYear column converted safely numeric support time-series indicators : funding trends relationship duration consistency indices Non-numeric malformed values converted NA warnings suppressed.","code":""},{"path":"/reference/filter_flows_for_indicators.html","id":"warning","dir":"Reference","previous_headings":"","what":"Warning","title":"Filter and Normalize FTS Funding Flows for Indicator Computation — filter_flows_for_indicators","text":"function removes parent flows parked envelopes design. users require indicators specifically envelope-level commitments, apply custom filter calling function.","code":""},{"path":"/reference/filter_flows_for_indicators.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter and Normalize FTS Funding Flows for Indicator Computation — filter_flows_for_indicators","text":"","code":"#cleaned <- filter_flows_for_indicators(flows)"},{"path":"/reference/flows.html","id":null,"dir":"Reference","previous_headings":"","what":"FTS Humanitarian Funding Flows Dataset — flows","title":"FTS Humanitarian Funding Flows Dataset — flows","text":"comprehensive dataset humanitarian funding flows UN OCHA Financial Tracking Service (FTS). Contains detailed records funding contributions, allocations, implementation chains across global humanitarian responses. data captures entire funding lifecycle pledges disbursements, including donor behaviors, recipient patterns, strategic funding characteristics.","code":""},{"path":"/reference/flows.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"FTS Humanitarian Funding Flows Dataset — flows","text":"","code":"flows"},{"path":"/reference/flows.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"FTS Humanitarian Funding Flows Dataset — flows","text":"data frame 22441 rows 29 variables: id character Unique identifier funding flow record, used tracking updates modifications funding entry time amountUSD integer Total funding amount US dollars, representing standardized value cross-donor comparison fullParkedAmountUSD integer Complete parked amount US dollars flows temporarily held without specific allocation budgetYear character Calendar year (January-December) funding planned utilized, following FTS's calendar year system childFlowIds list List downstream funding flow identifiers representing cascaded funding implementation chains; child flows receive allocations parent flows contributionType character Type humanitarian contribution: \"financial\" monetary transfers \"-kind\" goods services createdAt character Timestamp indicating funding flow record initially created FTS database date character Date funding information submitted FTS reporting organization decisionDate character Date grant agreement signing donor recipient, official endorsement donor member state - marks commitment point description character Detailed description funded activity/project, including location context, intervention details, implementation timeframe grandBargainEarmarkingType list Classification funding flexibility according Grand Bargain categories: Unearmarked (-C), Softly earmarked (D-F), Earmarked (G-H), Tightly earmarked (-L) exchangeRate double Currency conversion rate applied transform original amount USD; uses UN Operational Exchange Rate specified firstReportedDate character Initial date funding flow first reported FTS, used tracking reporting history flowType character Classification flow structure: \"Carryover\" (previous year funds), \"Parked\" (temporarily unallocated), \"Pass \" (cascaded funding), \"Standard\" (direct allocation) keywords list Thematic tags categorical labels associated funding flow search analysis purposes newMoney logical Indicator whether funding represents new resources (TRUE) versus reallocated reprofiled existing funds (FALSE) originalAmount double Funding amount original currency conversion USD originalCurrency character Currency funding originally provided committed method character Modality assistance delivery: \"Cash Transfer Programming (CTP)\" (cash, mobile, vouchers) \"Traditional\" (-kind goods/services) parentFlowId integer Identifier upstream funding flow flow originates; used trace funding implementation chains status character Funding lifecycle stage: \"pledge\" (non-binding intent), \"commitment\" (binding agreement), \"paid\" (disbursed funds) updatedAt character Timestamp recent modification funding flow record versionId integer Version number tracking sequential updates revisions funding flow information sourceObjects list Nested data structure containing donor/origin information components: id (identifier), name (source name), type (Organization/Location/UsageYear - indicating funding source year) destinationObjects list Nested data structure containing recipient/allocation information components: id, name, type (Cluster/GlobalCluster/Location/Plan/UsageYear/Organization), behavior (single/shared breakdown), organization metadata (types, subtypes, levels) organizational recipients boundary character Classification flow direction relative analysis boundaries: \"incoming\" (crossing inward), \"internal\" (within boundary), \"outgoing\" (crossing outward) onBoundary character Additional specification boundary relationship complex flow categorization reportDetails list Reporting metadata containing: sourceType (information origin), organization (reporting entity), reportChannel (submission method), date (reporting date) refCode character Grant agreement reference code used donors recipients administrative tracking reconciliation","code":""},{"path":"/reference/flows.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"FTS Humanitarian Funding Flows Dataset — flows","text":"https://fts.unocha.org/","code":""},{"path":"/reference/generate_plot_story.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Humanitarian Data Story from ggplot — generate_plot_story","title":"Generate Humanitarian Data Story from ggplot — generate_plot_story","text":"function takes ggplot2 object generates storytelling narrative focused humanitarian insights. uses {ellmer} package call large language model supported provider.","code":""},{"path":"/reference/generate_plot_story.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Humanitarian Data Story from ggplot — generate_plot_story","text":"","code":"generate_plot_story(plot, max_tokens = 30, provider = NULL, model = NULL)"},{"path":"/reference/generate_plot_story.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Humanitarian Data Story from ggplot — generate_plot_story","text":"plot ggplot object ggplot2. max_tokens Maximum number tokens (approximate) narrative (default = 30). provider Optional character string specifying provider. Options include: \"openai\", \"gemini\", \"anthropic\", \"ollama\". NULL, auto-detect environment keys. model Optional character string specifying model name. NULL, default model chosen provider used.","code":""},{"path":"/reference/generate_plot_story.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Humanitarian Data Story from ggplot — generate_plot_story","text":"character string containing storytelling narrative focused humanitarian data.","code":""},{"path":"/reference/generate_plot_story.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Humanitarian Data Story from ggplot — generate_plot_story","text":"narrative can used full‑text explanation concise subtitle plots. LLM access plot’s data (truncated efficiency), title, subtitle, caption. provider model can chosen explicitly detected automatically based API key environment variable set. Setup: Install {ellmer}: install.packages(\"ellmer\") Use Ollama Set API key environment, example: Sys.setenv(OPENAI_API_KEY = \"<YOUR_OPENAI_KEY>\") Sys.setenv(GEMINI_API_KEY = \"<YOUR_GOOGLE_GEMINI_KEY>\") Sys.setenv(ANTHROPIC_API_KEY = \"<YOUR_ANTHROPIC_KEY>\")","code":""},{"path":"/reference/generate_plot_story.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Humanitarian Data Story from ggplot — generate_plot_story","text":"","code":"library(ggplot2) p <- ggplot(mtcars, aes(x = wt, y = mpg)) +    geom_point() +     unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +    labs(title = \"Vehicle Efficiency\",         subtitle = \"Fuel consumption vs weight\",         caption = \"Source: mtcars dataset\")  story <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". cat(story) #> Heavier aid vehicles burn more fuel, increasing costs and logistical challenges for life-saving missions. # To use as subtitle: p + ggplot2::labs(subtitle = story)"},{"path":"/reference/indicator_cross_donor_systemic_destination_alignment.html","id":null,"dir":"Reference","previous_headings":"","what":"Donors Systemic: Destination Alignment (Optimized) — indicator_cross_donor_systemic_destination_alignment","title":"Donors Systemic: Destination Alignment (Optimized) — indicator_cross_donor_systemic_destination_alignment","text":"Calculates pairwise Jaccard similarity donors based funded destinations (locations clusters). indicates overlap convergence geographic thematic focus.","code":""},{"path":"/reference/indicator_cross_donor_systemic_destination_alignment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donors Systemic: Destination Alignment (Optimized) — indicator_cross_donor_systemic_destination_alignment","text":"","code":"indicator_cross_donor_systemic_destination_alignment(flows)"},{"path":"/reference/indicator_cross_donor_systemic_destination_alignment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donors Systemic: Destination Alignment (Optimized) — indicator_cross_donor_systemic_destination_alignment","text":"flows dataframe including least sourceObjects destinationObjects nested data frames.","code":""},{"path":"/reference/indicator_cross_donor_systemic_destination_alignment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donors Systemic: Destination Alignment (Optimized) — indicator_cross_donor_systemic_destination_alignment","text":"tibble columns: donor1 First donor pair. donor2 Second donor pair. Destination_Alignment Jaccard similarity (0–1) destinations.","code":""},{"path":"/reference/indicator_cross_donor_systemic_destination_alignment.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Donors Systemic: Destination Alignment (Optimized) — indicator_cross_donor_systemic_destination_alignment","text":"Goal: Measures many destinations common donors relative total unique destinations, producing 0–1 index. function works follows: Filters flows using filter_flows_for_indicators() remove flows included (e.g., parked parents, pass-throughs, --boundary flows). Unnests sourceObjects destinationObjects, keeping donors valid destination types (Cluster, GlobalCluster, Location). Creates list destinations donor. Computes Jaccard similarity unique donor pairs using precomputed lists, avoiding repeated filtering. Returns tibble donor1, donor2, Destination_Alignment.","code":""},{"path":"/reference/indicator_cross_donor_systemic_destination_alignment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donors Systemic: Destination Alignment (Optimized) — indicator_cross_donor_systemic_destination_alignment","text":"","code":"# Compute alignment alignment <- indicator_cross_donor_systemic_destination_alignment(flows)  # Viz library(ggplot2) library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union   # Compute total funding per donor top_donors <- flows |>   tidyr::unnest(sourceObjects, names_sep = \"_\") |>   dplyr::filter(sourceObjects_type == \"Organization\") |>   dplyr::rename(donor = sourceObjects_name) |>   dplyr::group_by(donor) |>   dplyr::summarise(total_funding = sum(amountUSD, na.rm = TRUE),                    .groups = \"drop\") |>   dplyr::arrange(desc(total_funding)) |>   dplyr::slice_head(n = 15) |>   dplyr::pull(donor)  # Filter alignment to top donors alignment_top <- alignment |>   dplyr::filter(donor1 %in% top_donors, donor2 %in% top_donors) |>     dplyr::mutate(       donor1 = stringr::str_wrap(donor1, width = 40),       donor2 = stringr::str_wrap(donor2, width = 40)     )  # Prepare data for ggplot plot_df <- alignment_top |>   dplyr::mutate(     donor1 = factor(donor1),     donor2 = factor(donor2)   )  # Heatmap ggplot(plot_df, aes(x = donor2, y = donor1, fill = Destination_Alignment)) +   geom_tile(color = \"white\") +   scale_fill_viridis_c(option = \"plasma\", na.value = \"grey80\", limits = c(0, 1)) +   unhcrthemes::theme_unhcr(grid = FALSE, axis =  FALSE, axis_title = FALSE, legend=TRUE) +   theme(axis.text.x = element_text(angle = 45, hjust = 1)) +   labs(     title = \"Top 15 Donors to Destination Alignment\",     x = \"Donor 2\",     y = \"Donor 1\",     fill = \"Jaccard\\nSimilarity\",     caption = paste(     \"Indicator interpretation:\",     \"Jaccard similarity measuring overlap in funded locations/clusters      between donor pairs (0 = no overlap, 1 = identical destination portfolios).\",     \"\\n\\n\",          \"How to read the visualization:\",     \"Heatmap shows pairwise alignment. Dark colors indicate high      geographic/thematic overlap, light colors indicate complementary coverage.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies donor clusters with similar focus areas, helping coordinate      advocacy and avoid duplication in under-funded crises.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   )"},{"path":"/reference/indicator_destination_dependency.html","id":null,"dir":"Reference","previous_headings":"","what":"Destination-Focused: Dependency Index — indicator_destination_dependency","title":"Destination-Focused: Dependency Index — indicator_destination_dependency","text":"Calculates share destination's total funding comes single largest donor.","code":""},{"path":"/reference/indicator_destination_dependency.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Destination-Focused: Dependency Index — indicator_destination_dependency","text":"","code":"indicator_destination_dependency(flows, destinations_df = NULL)"},{"path":"/reference/indicator_destination_dependency.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Destination-Focused: Dependency Index — indicator_destination_dependency","text":"flows dataframe including sourceObjects, destinationObjects, amountUSD. destinations_df (optional) dataframe destination names merge results .","code":""},{"path":"/reference/indicator_destination_dependency.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Destination-Focused: Dependency Index — indicator_destination_dependency","text":"tibble destination Destination_Dependency_Index (0–1, higher = dependent).","code":""},{"path":"/reference/indicator_destination_dependency.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Destination-Focused: Dependency Index — indicator_destination_dependency","text":"Goal: Measures reliance top donor — .e., share total funding coming largest donor.","code":""},{"path":"/reference/indicator_destination_dependency.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Destination-Focused: Dependency Index — indicator_destination_dependency","text":"","code":"destination <-indicator_destination_dependency(flows) #table(destination$Destination_Dependency_Index)  library(ggplot2) ggplot(destination, aes(x = Destination_Dependency_Index)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Dependency Index\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Share of total funding from largest single donor (0-1). Higher values      indicate heavy reliance on one donor, creating vulnerability.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows dependency levels. Values near 1 indicate high-risk      single-donor dependencies requiring diversification strategies.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Single-donor dependency creates systemic risk - if that donor changes      priorities, entire crisis responses can be jeopardized.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/reference/indicator_destination_donor_diversity.html","id":null,"dir":"Reference","previous_headings":"","what":"Destination-Focused: Donor Diversity Index — indicator_destination_donor_diversity","title":"Destination-Focused: Donor Diversity Index — indicator_destination_donor_diversity","text":"Calculates diversified destination's funding sources using inverse Herfindahl–Hirschman Index across donors.","code":""},{"path":"/reference/indicator_destination_donor_diversity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Destination-Focused: Donor Diversity Index — indicator_destination_donor_diversity","text":"","code":"indicator_destination_donor_diversity(flows, destinations_df = NULL)"},{"path":"/reference/indicator_destination_donor_diversity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Destination-Focused: Donor Diversity Index — indicator_destination_donor_diversity","text":"flows dataframe destinationObjects, sourceObjects, amountUSD. destinations_df (optional) dataframe destinations merge results .","code":""},{"path":"/reference/indicator_destination_donor_diversity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Destination-Focused: Donor Diversity Index — indicator_destination_donor_diversity","text":"tibble destination Destination_Donor_Diversity_Index.","code":""},{"path":"/reference/indicator_destination_donor_diversity.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Destination-Focused: Donor Diversity Index — indicator_destination_donor_diversity","text":"Goal: Measures diversified funding sources (inverse dependency). Computed using inverse Herfindahl–Hirschman Index (1–HHI) across donors.","code":""},{"path":"/reference/indicator_destination_donor_diversity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Destination-Focused: Donor Diversity Index — indicator_destination_donor_diversity","text":"","code":"destination <- indicator_destination_donor_diversity(flows) #table(destination$Earmarking_Flexibility)  library(ggplot2) ggplot(destination, aes(x = Destination_Donor_Diversity_Index)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Donor Diversity Index\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Inverse Herfindahl-Hirschman Index measuring donor diversification      (0=single donor dependency, 1=highly diversified funding base).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows diversification levels. Higher values indicate resilient     funding ecosystems, lower values indicate vulnerability to individual     donor decisions.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Diversified funding reduces crisis vulnerability to donor policy changes     and ensures more stable response capacity during political shifts.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/reference/indicator_destination_donor_retention.html","id":null,"dir":"Reference","previous_headings":"","what":"Destination-Focused: Donor Retention Index — indicator_destination_donor_retention","title":"Destination-Focused: Donor Retention Index — indicator_destination_donor_retention","text":"Calculates proportion donors provided funding destination consecutive years (repeat donors). Goal: Measures proportion donors continue funding destination year year.","code":""},{"path":"/reference/indicator_destination_donor_retention.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Destination-Focused: Donor Retention Index — indicator_destination_donor_retention","text":"","code":"indicator_destination_donor_retention(flows, destinations_df = NULL)"},{"path":"/reference/indicator_destination_donor_retention.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Destination-Focused: Donor Retention Index — indicator_destination_donor_retention","text":"flows dataframe destinationObjects, sourceObjects, budgetYear, amountUSD. destinations_df (optional) dataframe destinations merge results .","code":""},{"path":"/reference/indicator_destination_donor_retention.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Destination-Focused: Donor Retention Index — indicator_destination_donor_retention","text":"tibble destination Destination_Donor_Retention_Index.","code":""},{"path":"/reference/indicator_destination_donor_retention.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Destination-Focused: Donor Retention Index — indicator_destination_donor_retention","text":"","code":"destination <- indicator_destination_donor_retention(flows) #table(destination$Destination_Donor_Retention_Index)  library(ggplot2) ggplot(destination, aes(x = Destination_Donor_Retention_Index)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Donor Retention Index\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Proportion of donors who continue funding a destination year after year.      Higher values indicate loyal donor bases and sustained engagement.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows retention rates. Higher values indicate stable donor      relationships, lower values indicate high donor turnover and relationship     building needs.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Donor retention reduces transaction costs, builds contextual knowledge,      and enables more effective long-term partnerships in complex crises.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/reference/indicator_destination_earmarking_flexibility.html","id":null,"dir":"Reference","previous_headings":"","what":"Earmarking Flexibility — indicator_destination_earmarking_flexibility","title":"Earmarking Flexibility — indicator_destination_earmarking_flexibility","text":"Computes weighted average earmarking flexibility index per destination (Unearmarked = 1.0, Softly earmarked = 0.75, Earmarked = 0.5, Tightly earmarked = 0.25).","code":""},{"path":"/reference/indicator_destination_earmarking_flexibility.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Earmarking Flexibility — indicator_destination_earmarking_flexibility","text":"","code":"indicator_destination_earmarking_flexibility(flows, destinations = NULL)"},{"path":"/reference/indicator_destination_earmarking_flexibility.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Earmarking Flexibility — indicator_destination_earmarking_flexibility","text":"flows dataframe destinationObjects, amountUSD, grandBargainEarmarkingType. destinations Optional dataframe merge.","code":""},{"path":"/reference/indicator_destination_earmarking_flexibility.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Earmarking Flexibility — indicator_destination_earmarking_flexibility","text":"tibble destination Earmarking_Flexibility.","code":""},{"path":"/reference/indicator_destination_earmarking_flexibility.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Earmarking Flexibility — indicator_destination_earmarking_flexibility","text":"","code":"destination <- indicator_destination_earmarking_flexibility(flows) #table(destination$Earmarking_Flexibility)  library(ggplot2) ggplot(destination, aes(x = Earmarking_Flexibility)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Earmarking Flexibility\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Weighted average of earmarking flexibility (1=unearmarked, 0.75=softly     earmarked, 0.5=earmarked, 0.25=tightly earmarked). Higher values indicate      more flexible funding.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows flexibility scores. Higher values indicate destinations      receiving more unearmarked funding for adaptive programming.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Flexible funding enables context-responsive programming, local leadership,      and efficient resource allocation based on evolving needs rather than      rigid donor requirements.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 1 row containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_destination_funding_diversity.html","id":null,"dir":"Reference","previous_headings":"","what":"Destination-Focused: Funding Diversity Index — indicator_destination_funding_diversity","title":"Destination-Focused: Funding Diversity Index — indicator_destination_funding_diversity","text":"Measures diversified destination's funding base across donors using Shannon entropy amountUSD distribution.","code":""},{"path":"/reference/indicator_destination_funding_diversity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Destination-Focused: Funding Diversity Index — indicator_destination_funding_diversity","text":"","code":"indicator_destination_funding_diversity(flows, destinations_df = NULL)"},{"path":"/reference/indicator_destination_funding_diversity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Destination-Focused: Funding Diversity Index — indicator_destination_funding_diversity","text":"flows dataframe including sourceObjects, destinationObjects, amountUSD. destinations_df (optional) dataframe destination names merge results .","code":""},{"path":"/reference/indicator_destination_funding_diversity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Destination-Focused: Funding Diversity Index — indicator_destination_funding_diversity","text":"tibble destination Destination_Funding_Diversity  (0–1 scale).","code":""},{"path":"/reference/indicator_destination_funding_diversity.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Destination-Focused: Funding Diversity Index — indicator_destination_funding_diversity","text":"Goal: Measures many donors contribute destination — higher = diverse resilient funding base.","code":""},{"path":"/reference/indicator_destination_funding_diversity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Destination-Focused: Funding Diversity Index — indicator_destination_funding_diversity","text":"","code":"destination <- indicator_destination_funding_diversity(flows) #table(destination$Destination_Funding_Diversity)  library(ggplot2) ggplot(destination, aes(x = Destination_Funding_Diversity)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Funding Diversity\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Shannon entropy-based measure of funding distribution across donors      (0=single donor dominance, 1=perfect diversity across many donors).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows diversity levels. Higher values indicate resilient funding     ecosystems, lower values indicate concentration risks and vulnerability.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Diverse funding bases protect against individual donor withdrawals and     enable more balanced response coordination across multiple priorities.\",      \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 31 rows containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_destination_funding_stability.html","id":null,"dir":"Reference","previous_headings":"","what":"Destination-Focused: Funding Stability Index — indicator_destination_funding_stability","title":"Destination-Focused: Funding Stability Index — indicator_destination_funding_stability","text":"Measures stable funding amounts destination time. Computed 1 - coefficient variation annual funding. Goal: Captures predictability funding amounts years (inverse coefficient variation).","code":""},{"path":"/reference/indicator_destination_funding_stability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Destination-Focused: Funding Stability Index — indicator_destination_funding_stability","text":"","code":"indicator_destination_funding_stability(flows, destinations_df = NULL)"},{"path":"/reference/indicator_destination_funding_stability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Destination-Focused: Funding Stability Index — indicator_destination_funding_stability","text":"flows dataframe destinationObjects, budgetYear, amountUSD. destinations_df (optional) dataframe destinations merge results .","code":""},{"path":"/reference/indicator_destination_funding_stability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Destination-Focused: Funding Stability Index — indicator_destination_funding_stability","text":"tibble destination Destination_Funding_Stability_Index.","code":""},{"path":"/reference/indicator_destination_funding_stability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Destination-Focused: Funding Stability Index — indicator_destination_funding_stability","text":"","code":"destination <- indicator_destination_funding_stability(flows) #table(destination$Destination_Funding_Stability_Index)  library(ggplot2) ggplot(destination, aes(x = Destination_Funding_Stability_Index)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Funding Stability Index\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"1 minus coefficient of variation of annual funding amounts.      1=perfectly stable, lower values=volatile funding,      negative values=high volatility (SD > mean).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows stability patterns. Higher values enable predictable      programming, negative values indicate boom-bust cycles disrupting operations.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Funding stability enables long-term planning, staff retention, and      consistent service delivery rather than reactive emergency-only responses.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 37 rows containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_destination_funding_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Destination-Focused: Funding Growth Trend — indicator_destination_funding_trend","title":"Destination-Focused: Funding Growth Trend — indicator_destination_funding_trend","text":"Computes slope linear regression funding time destination. Goal: Detects whether funding destination increasing decreasing time.","code":""},{"path":"/reference/indicator_destination_funding_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Destination-Focused: Funding Growth Trend — indicator_destination_funding_trend","text":"","code":"indicator_destination_funding_trend(flows, destinations_df = NULL)"},{"path":"/reference/indicator_destination_funding_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Destination-Focused: Funding Growth Trend — indicator_destination_funding_trend","text":"flows dataframe destinationObjects, budgetYear, amountUSD. destinations_df (optional) dataframe destinations merge results .","code":""},{"path":"/reference/indicator_destination_funding_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Destination-Focused: Funding Growth Trend — indicator_destination_funding_trend","text":"tibble destination Destination_Funding_Growth_Trend.","code":""},{"path":"/reference/indicator_destination_funding_trend.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Destination-Focused: Funding Growth Trend — indicator_destination_funding_trend","text":"","code":"destination <- indicator_destination_funding_trend(flows) #table(destination$Destination_Funding_Growth_Trend)  library(ggplot2) ggplot(destination, aes(x = Destination_Funding_Growth_Trend)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Funding Growth Trend\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Linear regression slope of annual funding over time.      Positive values=increasing funding, negative values=decreasing funding,     zero=stable funding.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows growth/decline patterns. Right of zero indicates expanding     crisis responses, left indicates potential donor fatigue or improving      contexts.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies crises receiving increasing attention vs. those facing funding     declines despite ongoing needs, informing advocacy priorities.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 49 rows containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_destination_funding_volatility.html","id":null,"dir":"Reference","previous_headings":"","what":"Destination-Focused: Funding Volatility Index — indicator_destination_funding_volatility","title":"Destination-Focused: Funding Volatility Index — indicator_destination_funding_volatility","text":"Calculates volatility funding destination across budgetYear, using coefficient variation (CV) annual totals.","code":""},{"path":"/reference/indicator_destination_funding_volatility.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Destination-Focused: Funding Volatility Index — indicator_destination_funding_volatility","text":"","code":"indicator_destination_funding_volatility(flows, destinations_df = NULL)"},{"path":"/reference/indicator_destination_funding_volatility.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Destination-Focused: Funding Volatility Index — indicator_destination_funding_volatility","text":"flows dataframe including destinationObjects, budgetYear, amountUSD. destinations_df (optional) dataframe destination names merge results .","code":""},{"path":"/reference/indicator_destination_funding_volatility.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Destination-Focused: Funding Volatility Index — indicator_destination_funding_volatility","text":"tibble destination Destination_Funding_Volatility (0–1, 1 = stable).","code":""},{"path":"/reference/indicator_destination_funding_volatility.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Destination-Focused: Funding Volatility Index — indicator_destination_funding_volatility","text":"Goal: Quantifies year--year variability funding amounts destination.","code":""},{"path":"/reference/indicator_destination_funding_volatility.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Destination-Focused: Funding Volatility Index — indicator_destination_funding_volatility","text":"","code":"destination <-indicator_destination_funding_volatility(flows) #table(destination$Destination_Funding_Volatility)  library(ggplot2) ggplot(destination, aes(x = Destination_Funding_Volatility)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Funding Volatility\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"1 minus coefficient of variation of annual funding (0=highly volatile,     1=perfectly stable). Inverse measure of year-to-year funding     unpredictability.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows volatility patterns. Higher values enable predictable      programming, lower values indicate disruptive funding fluctuations.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Funding volatility disrupts staffing, procurement, and program continuity,      reducing operational efficiency and response effectiveness.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 36 rows containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_destination_modality_balance.html","id":null,"dir":"Reference","previous_headings":"","what":"Destination-Focused: Modality Balance — indicator_destination_modality_balance","title":"Destination-Focused: Modality Balance — indicator_destination_modality_balance","text":"Calculates share cash voucher-based programming (CTP) relative modalities within destination.","code":""},{"path":"/reference/indicator_destination_modality_balance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Destination-Focused: Modality Balance — indicator_destination_modality_balance","text":"","code":"indicator_destination_modality_balance(flows, destinations_df = NULL)"},{"path":"/reference/indicator_destination_modality_balance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Destination-Focused: Modality Balance — indicator_destination_modality_balance","text":"flows dataframe including destinationObjects, method, amountUSD. destinations_df (optional) dataframe destination names merge results .","code":""},{"path":"/reference/indicator_destination_modality_balance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Destination-Focused: Modality Balance — indicator_destination_modality_balance","text":"tibble destination Destination_Modality_Balance (0–1 share CTP).","code":""},{"path":"/reference/indicator_destination_modality_balance.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Destination-Focused: Modality Balance — indicator_destination_modality_balance","text":"Goal: Measures balance cash-based programming traditional modalities, based method variable.","code":""},{"path":"/reference/indicator_destination_modality_balance.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Destination-Focused: Modality Balance — indicator_destination_modality_balance","text":"","code":"destination <- indicator_destination_modality_balance(flows) #table(destination$Destination_Modality_Balance)  library(ggplot2) ggplot(destination, aes(x = Destination_Modality_Balance)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Modality Balance\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Share of cash-based programming (CTP) relative to all modalities (0-1).     Higher values indicate greater cash modality utilization.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows CTP adoption across destinations. Most destinations cluster     near zero, indicating traditional in-kind programming dominance.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Appropriate modality balance ensures efficient, dignified assistance while     maintaining essential in-kind support where markets are non-functional.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/reference/indicator_destination_modality_innovation.html","id":null,"dir":"Reference","previous_headings":"","what":"Modality Innovation — indicator_destination_modality_innovation","title":"Modality Innovation — indicator_destination_modality_innovation","text":"Calculates percentage funding destination Cash Transfer Programming (CTP).","code":""},{"path":"/reference/indicator_destination_modality_innovation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Modality Innovation — indicator_destination_modality_innovation","text":"","code":"indicator_destination_modality_innovation(flows, destinations = NULL)"},{"path":"/reference/indicator_destination_modality_innovation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Modality Innovation — indicator_destination_modality_innovation","text":"flows dataframe destinationObjects, amountUSD, method. destinations Optional dataframe merge results .","code":""},{"path":"/reference/indicator_destination_modality_innovation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Modality Innovation — indicator_destination_modality_innovation","text":"tibble destination Modality_Innovation.","code":""},{"path":"/reference/indicator_destination_modality_innovation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Modality Innovation — indicator_destination_modality_innovation","text":"","code":"destination <- indicator_destination_modality_innovation(flows) #table(destination $Recipient_Diversification_Index)  library(ggplot2) ggplot(destination, aes(x = Modality_Innovation)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Modality Innovation\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Percentage of funding using Cash Transfer Programming (CTP) per destination.     Higher values indicate greater adoption of innovative cash-based approaches.\",     \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows CTP adoption rates across destinations. Right-skewed      distribution indicates most destinations have low CTP usage, few are CTP      leaders.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Cash programming increases efficiency, dignity, and local market benefits.     Identifies destinations where cash coordination capacity may need      strengthening.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/reference/indicator_destination_pipeline_visibility.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipeline Visibility — indicator_destination_pipeline_visibility","title":"Pipeline Visibility — indicator_destination_pipeline_visibility","text":"Measures proportion funding flows per destination extend beyond current year.","code":""},{"path":"/reference/indicator_destination_pipeline_visibility.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipeline Visibility — indicator_destination_pipeline_visibility","text":"","code":"indicator_destination_pipeline_visibility(   flows,   current_year = as.numeric(format(Sys.Date(), \"%Y\")),   destinations = NULL )"},{"path":"/reference/indicator_destination_pipeline_visibility.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipeline Visibility — indicator_destination_pipeline_visibility","text":"flows dataframe destinationObjects, budgetYear, amountUSD. current_year Numeric, current calendar year. destinations Optional dataframe merge.","code":""},{"path":"/reference/indicator_destination_pipeline_visibility.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipeline Visibility — indicator_destination_pipeline_visibility","text":"tibble destination Pipeline_Visibility.","code":""},{"path":"/reference/indicator_destination_pipeline_visibility.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pipeline Visibility — indicator_destination_pipeline_visibility","text":"","code":"destination <- indicator_destination_pipeline_visibility(flows) #table(destination$Recipient_Diversification_Index)  library(ggplot2) ggplot(destination, aes(x = Pipeline_Visibility)) +   geom_histogram( fill = \"red\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Destination Pipeline Visibility\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Proportion of funding flows extending beyond current year. Higher values     indicate better forward visibility and multi-year planning capacity.\",     \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows pipeline visibility across destinations. Most destinations     cluster near zero, indicating predominantly annual funding cycles.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Multi-year funding enables strategic programming, staff retention, and     sustainable crisis response rather than short-term emergency patches.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/reference/indicator_donor_destination_concentration.html","id":null,"dir":"Reference","previous_headings":"","what":"Donor→Destination: Portfolio Concentration Index — indicator_donor_destination_concentration","title":"Donor→Destination: Portfolio Concentration Index — indicator_donor_destination_concentration","text":"Computes concentrated donor's funding portfolio across destinations, using Herfindahl–Hirschman Index (sum squared funding shares).","code":""},{"path":"/reference/indicator_donor_destination_concentration.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donor→Destination: Portfolio Concentration Index — indicator_donor_destination_concentration","text":"","code":"indicator_donor_destination_concentration(flows, donor_dest_df = NULL)"},{"path":"/reference/indicator_donor_destination_concentration.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donor→Destination: Portfolio Concentration Index — indicator_donor_destination_concentration","text":"flows dataframe sourceObjects, destinationObjects, amountUSD. donor_dest_df (optional) dataframe donor–destination pairs merge results .","code":""},{"path":"/reference/indicator_donor_destination_concentration.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donor→Destination: Portfolio Concentration Index — indicator_donor_destination_concentration","text":"tibble donor, DonorDestination_Concentration_Index (0=diverse, 1=concentrated).","code":""},{"path":"/reference/indicator_donor_destination_concentration.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Donor→Destination: Portfolio Concentration Index — indicator_donor_destination_concentration","text":"Goal: Quantifies concentrated (vs diversified) donor’s funding portfolio across destinations using Herfindahl–Hirschman Index (HHI).","code":""},{"path":"/reference/indicator_donor_destination_concentration.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donor→Destination: Portfolio Concentration Index — indicator_donor_destination_concentration","text":"","code":"donor <- indicator_donor_destination_concentration(flows) #table(donor$DonorDestination_Concentration_Index)  library(ggplot2) ggplot(donor, aes(x = DonorDestination_Concentration_Index)) +   geom_histogram( fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Destination Concentration Index\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Herfindahl-Hirschman Index measuring geographic portfolio concentration      (0 = highly diversified, 1 = focused on few locations/plans).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows concentration levels. Left indicates global spread, right      indicates focused geographic operations in few crises.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Helps understand donor geographic strategies - specialized crisis      responders vs broad global supporters - for targeted engagement.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/reference/indicator_donor_destination_coverage.html","id":null,"dir":"Reference","previous_headings":"","what":"Donor→Destination: Coverage Index — indicator_donor_destination_coverage","title":"Donor→Destination: Coverage Index — indicator_donor_destination_coverage","text":"Calculates proportion destinations donor supports total destinations dataset.","code":""},{"path":"/reference/indicator_donor_destination_coverage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donor→Destination: Coverage Index — indicator_donor_destination_coverage","text":"","code":"indicator_donor_destination_coverage(flows, donor_dest_df = NULL)"},{"path":"/reference/indicator_donor_destination_coverage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donor→Destination: Coverage Index — indicator_donor_destination_coverage","text":"flows dataframe sourceObjects, destinationObjects, amountUSD. donor_dest_df (optional) dataframe donor–destination pairs merge results .","code":""},{"path":"/reference/indicator_donor_destination_coverage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donor→Destination: Coverage Index — indicator_donor_destination_coverage","text":"tibble donor, DonorDestination_Coverage_Index.","code":""},{"path":"/reference/indicator_donor_destination_coverage.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Donor→Destination: Coverage Index — indicator_donor_destination_coverage","text":"Goal: Measures many distinct destinations (countries/plans/sectors) donor supports compared total destinations dataset.","code":""},{"path":"/reference/indicator_donor_destination_coverage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donor→Destination: Coverage Index — indicator_donor_destination_coverage","text":"","code":"donor <- indicator_donor_destination_coverage(flows) #table(donor$DonorDestination_Concentration_Index)  library(ggplot2) ggplot(donor, aes(x = DonorDestination_Coverage_Index)) +   geom_histogram( fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Destination Coverage Index\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Proportion of total destinations supported by donor (0 = few locations,     1 = active in all locations in dataset).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows coverage breadth. Higher values indicate donors with global     reach, lower values indicate regionally focused donors.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies global players vs regional specialists, informing crisis-specific     partnership strategies and gap analysis.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/reference/indicator_donor_destination_earmarking_flexibility.html","id":null,"dir":"Reference","previous_headings":"","what":"Donor-Destination Earmarking Flexibility — indicator_donor_destination_earmarking_flexibility","title":"Donor-Destination Earmarking Flexibility — indicator_donor_destination_earmarking_flexibility","text":"Computes weighted average earmarking flexibility score donor–destination pair. Higher values indicate flexible (less earmarked) funding.","code":""},{"path":"/reference/indicator_donor_destination_earmarking_flexibility.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donor-Destination Earmarking Flexibility — indicator_donor_destination_earmarking_flexibility","text":"","code":"indicator_donor_destination_earmarking_flexibility(flows)"},{"path":"/reference/indicator_donor_destination_earmarking_flexibility.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donor-Destination Earmarking Flexibility — indicator_donor_destination_earmarking_flexibility","text":"flows dataframe containing sourceObjects, destinationObjects, amountUSD, grandBargainEarmarkingType.","code":""},{"path":"/reference/indicator_donor_destination_earmarking_flexibility.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donor-Destination Earmarking Flexibility — indicator_donor_destination_earmarking_flexibility","text":"tibble donor, destination, Earmarking_Flexibility, total_amount.","code":""},{"path":"/reference/indicator_donor_destination_earmarking_flexibility.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Donor-Destination Earmarking Flexibility — indicator_donor_destination_earmarking_flexibility","text":"Scoring: unearmarked       = 1.00 softly earmarked  = 0.75 earmarked         = 0.50 tightly earmarked = 0.25 indicator helps understand donor behaviour: flexible funding across crisis-affected destinations.","code":""},{"path":"/reference/indicator_donor_destination_earmarking_flexibility.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donor-Destination Earmarking Flexibility — indicator_donor_destination_earmarking_flexibility","text":"","code":"donor_destination <- indicator_donor_destination_earmarking_flexibility(flows) #table(donor_destination$Earmarking_Flexibility) donor_destination <- indicator_donor_destination_earmarking_flexibility(flows)  # ---- Select top donors & top destinations by total USD ---- top_donors <- donor_destination |>   dplyr::group_by(donor) |>   dplyr::summarise(total = sum(total_amount, na.rm = TRUE)) |>   dplyr::arrange(desc(total)) |>   dplyr::slice_head(n = 15)  top_destinations <- donor_destination |>   dplyr::group_by(destination) |>   dplyr::summarise(total = sum(total_amount, na.rm = TRUE)) |>   dplyr::arrange(desc(total)) |>   dplyr::slice_head(n = 15)  donor_destination_top15 <- donor_destination |>   dplyr::filter(     donor %in% top_donors$donor,     destination %in% top_destinations$destination   )  # (Optional) reorder factors for readability donor_destination_top15 <- donor_destination_top15 |>   dplyr::mutate(     donor = factor(donor, levels = sort(unique(donor))),     destination = factor(destination, levels = sort(unique(destination)))   )  # ---- ggplot2 heatmap ---- ggplot2::ggplot(   donor_destination_top15,   ggplot2::aes(     x = destination,     y = donor,     fill = Earmarking_Flexibility   ) ) +   ggplot2::geom_tile(color = \"white\") +    # Color-blind friendly scale   viridis::scale_fill_viridis(     name = \"Flexibility\",     option = \"viridis\",      # color-blind friendly     direction = 1,     limits = c(0.25, 1.0),     na.value = \"grey80\"   ) +   ggplot2::labs(     title = \"Donor–Destination Earmarking Flexibility     (Top 15 Donors & Destinations)\",     subtitle = \"Weighted average flexibility score      (1.0 = unearmarked → 0.25 = tightly earmarked)\",     x = \"Destination Country\",     y = \"Donor\",     caption = paste(     \"Indicator interpretation:\",     \"Weighted average earmarking flexibility for donor-destination pairs      (1=unearmarked, 0.75=softly earmarked, 0.5=earmarked, 0.25=tightly earmarked).\",     \"\\n\\n\",          \"How to read the visualization:\",     \"Heatmap shows flexibility patterns. Darker colors indicate more flexible      funding arrangements between specific donor-destination combinations.\",      \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies which donors provide flexible funding to specific crises,     enabling context-responsive programming and local decision-making.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   ggplot2::theme(     axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),     legend.position = \"right\",     panel.grid = ggplot2::element_blank()   )"},{"path":"/reference/indicator_donor_destination_geographic_alignment.html","id":null,"dir":"Reference","previous_headings":"","what":"Geographic Alignment — indicator_donor_destination_geographic_alignment","title":"Geographic Alignment — indicator_donor_destination_geographic_alignment","text":"Calculates Jaccard similarity donor-funded locations reference locations.","code":""},{"path":"/reference/indicator_donor_destination_geographic_alignment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Geographic Alignment — indicator_donor_destination_geographic_alignment","text":"","code":"indicator_donor_destination_geographic_alignment(flows, our_locations)"},{"path":"/reference/indicator_donor_destination_geographic_alignment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Geographic Alignment — indicator_donor_destination_geographic_alignment","text":"flows dataframe containing sourceObjects, destinationObjects. our_locations Character vector priority locations.","code":""},{"path":"/reference/indicator_donor_destination_geographic_alignment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Geographic Alignment — indicator_donor_destination_geographic_alignment","text":"tibble columns donor Geographic_Alignment.","code":""},{"path":"/reference/indicator_donor_destination_geographic_alignment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Geographic Alignment — indicator_donor_destination_geographic_alignment","text":"","code":"donor <- indicator_donor_destination_geographic_alignment(flows, our_locations = c(\"Yemen\",\"Haiti\")) #table(donor$Geographic_Alignment)  library(ggplot2) ggplot(donor, aes(x = Geographic_Alignment)) +   geom_histogram( fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Destination Geographic_Alignment\",     x = \"\",     y = \"Number of Destination\",    caption = paste(     \"Indicator interpretation:\",     \"Jaccard similarity between donor-funded locations and priority locations (0 = no overlap, 1 = identical geographic focus).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows alignment with specified priority locations. Higher values indicate donors active in organizational priority countries.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies natural partners for priority crises and reveals funding gaps in key locations needing advocacy attention.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/reference/indicator_donor_destination_risk_tolerance.html","id":null,"dir":"Reference","previous_headings":"","what":"Donor Risk Tolerance — indicator_donor_destination_risk_tolerance","title":"Donor Risk Tolerance — indicator_donor_destination_risk_tolerance","text":"Estimates donor risk tolerance share funding going : high-risk locations, /new untested recipient organisations.","code":""},{"path":"/reference/indicator_donor_destination_risk_tolerance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donor Risk Tolerance — indicator_donor_destination_risk_tolerance","text":"","code":"indicator_donor_destination_risk_tolerance(   flows,   high_risk_locations,   new_partners )"},{"path":"/reference/indicator_donor_destination_risk_tolerance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donor Risk Tolerance — indicator_donor_destination_risk_tolerance","text":"flows dataframe sourceObjects, destinationObjects, amountUSD. high_risk_locations Character vector high-risk location names. new_partners Character vector new emerging recipient organisations.","code":""},{"path":"/reference/indicator_donor_destination_risk_tolerance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donor Risk Tolerance — indicator_donor_destination_risk_tolerance","text":"tibble donor Risk_Tolerance.","code":""},{"path":"/reference/indicator_donor_destination_risk_tolerance.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Donor Risk Tolerance — indicator_donor_destination_risk_tolerance","text":"higher score indicates donor willing take risk.","code":""},{"path":"/reference/indicator_donor_destination_risk_tolerance.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donor Risk Tolerance — indicator_donor_destination_risk_tolerance","text":"","code":"donor_risk <- indicator_donor_destination_risk_tolerance(   flows,   high_risk_locations = c(\"Sudan\", \"South Sudan\", \"Somalia\", \"Afghanistan\"),   new_partners        = c(\"Local NGO A\", \"Community Org B\") )  # Identify top 15 donors by total contributions top15 <- donor_risk |>   dplyr::arrange(desc(total)) |>   dplyr::slice_head(n = 15)  donor_risk_top15 <- donor_risk |>   dplyr::filter(donor %in% top15$donor) |>   dplyr::mutate(     donor = factor(donor, levels = top15$donor)   )  # ---- ggplot2 visualisation (viridis) ---- ggplot2::ggplot(   donor_risk_top15,   ggplot2::aes(     x = donor,     y = Risk_Tolerance,     fill = Risk_Tolerance   ) ) +   ggplot2::geom_col() +   viridis::scale_fill_viridis(     name = \"Risk Tolerance\",     option = \"viridis\",     direction = 1,     limits = c(0, 1),     na.value = \"grey80\"   ) +   ggplot2::coord_flip() +   ggplot2::labs(     title = \"Donor Risk Tolerance (Top 15 Donors)\",     subtitle = \"Share of funding directed to high-risk locations or new partners\",     x = \"Donor\",     y = \"Risk Tolerance (0–1)\",     caption = paste(     \"Indicator interpretation:\",     \"Share of donor funding going to high-risk locations or new/untested partners.     Higher values indicate greater risk tolerance in funding decisions.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Bar chart shows risk tolerance levels across top donors. Higher bars      indicate donors more willing to fund in complex environments or with new      partners.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies donors supporting frontline response in most challenging      contexts and investing in local capacity building through new partnerships.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   ggplot2::theme(     panel.grid.minor = ggplot2::element_blank(),     legend.position = \"right\"   )"},{"path":"/reference/indicator_donor_destination_stability.html","id":null,"dir":"Reference","previous_headings":"","what":"Donor→Destination: Geographic Stability Index — indicator_donor_destination_stability","title":"Donor→Destination: Geographic Stability Index — indicator_donor_destination_stability","text":"Calculates fraction years donor funds destination years funding relationship. Higher values indicate sustained, long-term donor engagement.","code":""},{"path":"/reference/indicator_donor_destination_stability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donor→Destination: Geographic Stability Index — indicator_donor_destination_stability","text":"","code":"indicator_donor_destination_stability(flows, donor_dest_df = NULL)"},{"path":"/reference/indicator_donor_destination_stability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donor→Destination: Geographic Stability Index — indicator_donor_destination_stability","text":"flows dataframe sourceObjects, destinationObjects, budgetYear, amountUSD. donor_dest_df Optional tibble donor–destination pairs merge .","code":""},{"path":"/reference/indicator_donor_destination_stability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donor→Destination: Geographic Stability Index — indicator_donor_destination_stability","text":"tibble donor, destination, DonorDestination_Stability_Index.","code":""},{"path":"/reference/indicator_donor_destination_stability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donor→Destination: Geographic Stability Index — indicator_donor_destination_stability","text":"","code":"# Compute indicator donor_destination<- indicator_donor_destination_stability(flows)  # Identify top 15 destinations by number of active donors or total flows top_destinations <- donor_destination |>   dplyr::group_by(destination) |>   dplyr::summarise(total_stability = sum(DonorDestination_Stability_Index,                                          na.rm = TRUE)) |>   dplyr::arrange(desc(total_stability)) |>   dplyr::slice_head(n = 15)  stability_top <- donor_destination |>   dplyr::filter(destination %in% top_destinations$destination) |>   dplyr::mutate(     destination = factor(destination, levels = top_destinations$destination),     donor = factor(donor)   )  # ---- ggplot2 visualisation ---- ggplot2::ggplot(   stability_top,   ggplot2::aes(     x = destination,     y = donor,     fill = DonorDestination_Stability_Index   ) ) +   ggplot2::geom_tile(color = \"white\") +      viridis::scale_fill_viridis(     name = \"Stability (0–1)\",     option = \"viridis\",     limits = c(0, 1),     na.value = \"grey80\"   ) +      ggplot2::labs(     title = \"Donor → Destination Geographic Stability Index\",     subtitle = \"Share of years each donor funded a destination     (0 = occasional; 1 = consistent every year)\",     x = \"Destination\",     y = \"Donor\",     caption = paste(     \"Indicator interpretation:\",     \"Proportion of years with active funding between donor-destination pairs     (0=sporadic engagement, 1=consistent annual funding throughout period).\",      \"\\n\\n\",          \"How to read the visualization:\",     \"Heatmap shows funding consistency patterns. Darker colors indicate stable      long-term donor engagement in specific crisis contexts.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies donors providing predictable funding to specific crises,      enabling long-term programming and sustainable response capacity building.\",      \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) +      unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   ggplot2::theme(     axis.text.x = ggplot2::element_text(angle = 45, hjust = 1),     panel.grid = ggplot2::element_blank(),     legend.position = \"right\"   )"},{"path":"/reference/indicator_donor_destination_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Donor→Destination: Geographic Focus Trend — indicator_donor_destination_trend","title":"Donor→Destination: Geographic Focus Trend — indicator_donor_destination_trend","text":"Evaluates whether donor's destination concentration (HHI) increasing decreasing time. Goal: Captures whether donor’s portfolio becoming less geographically diversified time (trend HHI per year).","code":""},{"path":"/reference/indicator_donor_destination_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donor→Destination: Geographic Focus Trend — indicator_donor_destination_trend","text":"","code":"indicator_donor_destination_trend(flows, donor_dest_df = NULL)"},{"path":"/reference/indicator_donor_destination_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donor→Destination: Geographic Focus Trend — indicator_donor_destination_trend","text":"flows dataframe sourceObjects, destinationObjects, budgetYear, amountUSD. donor_dest_df (optional) dataframe donor–destination pairs merge results .","code":""},{"path":"/reference/indicator_donor_destination_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donor→Destination: Geographic Focus Trend — indicator_donor_destination_trend","text":"tibble donor, DonorDestination_Focus_Trend (slope).","code":""},{"path":"/reference/indicator_donor_destination_trend.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donor→Destination: Geographic Focus Trend — indicator_donor_destination_trend","text":"","code":"donor <- indicator_donor_destination_trend(flows) #table(donor$DonorDestination_Focus_Trend)  library(ggplot2) ggplot(donor, aes(x = DonorDestination_Focus_Trend)) +   geom_histogram( fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Destination Focus Trend\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Linear trend of geographic concentration over time (negative = diversifying,     positive = focusing, zero = stable portfolio strategy).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows trend direction. Left of zero indicates donors broadening      geographic scope, right indicates narrowing focus.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Reveals evolving donor strategies - expansion into new crises vs      consolidation in core locations - for anticipating partnership      opportunities.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 187 rows containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_donor_funding_consistency.html","id":null,"dir":"Reference","previous_headings":"","what":"Funding Consistency Index — indicator_donor_funding_consistency","title":"Funding Consistency Index — indicator_donor_funding_consistency","text":"Calculates proportion years donor provided funding relative total number years analyzed.","code":""},{"path":"/reference/indicator_donor_funding_consistency.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funding Consistency Index — indicator_donor_funding_consistency","text":"","code":"indicator_donor_funding_consistency(flows, donors = NULL)"},{"path":"/reference/indicator_donor_funding_consistency.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funding Consistency Index — indicator_donor_funding_consistency","text":"flows dataframe containing FTS-style flow data sourceObjects, budgetYear, amountUSD. donors Optional dataframe donor names merge results.","code":""},{"path":"/reference/indicator_donor_funding_consistency.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Funding Consistency Index — indicator_donor_funding_consistency","text":"tibble columns donor Funding_Consistency_Index.","code":""},{"path":"/reference/indicator_donor_funding_consistency.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funding Consistency Index — indicator_donor_funding_consistency","text":"","code":"donors <- indicator_donor_funding_consistency(flows) table(donors$Funding_Consistency_Index) #>  #>   1  #> 249  # library(ggplot2) # ggplot(donors, aes(x = Funding_Consistency_Index)) + #   geom_histogram(fill = \"steelblue\", color = \"white\") + #   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) + #   labs( #     title = \"Distribution of Donor Funding Consistency Index\", #     x = \"\", #     y = \"Number of Donors\", #     caption = paste( #     \"Indicator interpretation:\", #     \"Measures the proportion of years a donor provided funding relative to total  #     years analyzed. Scores range 0-1 where 1 = consistent annual funding.\", #     \"\\n\\n\", #      #     \"How to read the visualization:\", #     \"X-axis shows consistency index values (0-1), Y-axis shows count of donors. #     Bars represent frequency of donors at each consistency level.\", \"\\n\\n\", #      #     \"Humanitarian relevance:\", #     \"Identifies reliable long-term partners vs sporadic funders, helping  #     prioritize relationship building with consistent donors.\", \"\\n\\n\", #      #     \"Source: Financial Tracking Service (FTS) API.\" #   ) #   )"},{"path":"/reference/indicator_donor_funding_growth.html","id":null,"dir":"Reference","previous_headings":"","what":"Funding Growth Trend — indicator_donor_funding_growth","title":"Funding Growth Trend — indicator_donor_funding_growth","text":"Calculates linear trend (slope) annual funding amounts years donor.","code":""},{"path":"/reference/indicator_donor_funding_growth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funding Growth Trend — indicator_donor_funding_growth","text":"","code":"indicator_donor_funding_growth(flows, donors = NULL)"},{"path":"/reference/indicator_donor_funding_growth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funding Growth Trend — indicator_donor_funding_growth","text":"flows dataframe sourceObjects, budgetYear, amountUSD. donors Optional dataframe donor names.","code":""},{"path":"/reference/indicator_donor_funding_growth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Funding Growth Trend — indicator_donor_funding_growth","text":"tibble donor Funding_Growth_Trend (slope funding years).","code":""},{"path":"/reference/indicator_donor_funding_growth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funding Growth Trend — indicator_donor_funding_growth","text":"","code":"donors <- indicator_donor_funding_growth(flows) #table(donors$Funding_Growth_Trend) library(ggplot2) ggplot(donors, aes(x = Funding_Growth_Trend)) +   geom_histogram( fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Funding Growth Trend\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Linear regression slope of annual funding amounts over time. Positive      values = increasing funding, negative = decreasing funding.\", \"\\n\\n\",          \"How to read the visualization:\",     \"X-axis shows growth rate (USD per year), Y-axis shows donor count. Center      around zero indicates stable funding, right tail indicates growing donors.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies expanding vs contracting funding sources, helping target      advocacy and partnership efforts with growing donors.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 193 rows containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_donor_geographic_alignment.html","id":null,"dir":"Reference","previous_headings":"","what":"Geographic Alignment — indicator_donor_geographic_alignment","title":"Geographic Alignment — indicator_donor_geographic_alignment","text":"Calculates Jaccard similarity donor-funded locations reference locations.","code":""},{"path":"/reference/indicator_donor_geographic_alignment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Geographic Alignment — indicator_donor_geographic_alignment","text":"","code":"indicator_donor_geographic_alignment(   flows,   priority_destinations,   donors = NULL )"},{"path":"/reference/indicator_donor_geographic_alignment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Geographic Alignment — indicator_donor_geographic_alignment","text":"flows dataframe containing sourceObjects, destinationObjects. priority_destinations Character vector priority locations. donors (optional) dataframe donor names merge results.","code":""},{"path":"/reference/indicator_donor_geographic_alignment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Geographic Alignment — indicator_donor_geographic_alignment","text":"tibble columns donor Geographic_Alignment.","code":""},{"path":"/reference/indicator_donor_geographic_alignment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Geographic Alignment — indicator_donor_geographic_alignment","text":"","code":"destinations <- flows |>       tidyr::unnest(destinationObjects, names_repair = \"unique\", names_sep = \"_\") |>       dplyr::filter(destinationObjects_type == \"Location\") |>       dplyr::pull(destinationObjects_name) |>       unlist() |>       unique() #dput(destinations)  # High-visibility, acute crises get funded high_visibility <- c(   \"Ukraine\", \"Syrian Arab Republic\", \"Occupied Palestinian Territory\",   \"Sudan\", \"South Sudan\", \"Yemen\", \"Afghanistan\", \"Myanmar\",   \"Ethiopia\", \"Somalia\", \"Democratic Republic of the Congo\",   \"Central African Republic\", \"Haiti\" )  # Long-standing crises with major donor attention maintain coverage long_standing <- c(   \"Lebanon\", \"Jordan\", \"Iraq\", \"Türkiye\", \"Bangladesh\", \"Chad\",   \"Cameroon\", \"Niger\", \"Burkina Faso\", \"Mali\", \"Nigeria\",   \"Colombia\", \"Venezuela, Bolivarian Republic of\" )  # Regional refugee responses collapse regional_refugee <- c(   \"Region - Southern and Eastern Africa\", \"Region - Middle East and Northern Africa\",   \"Region - West and Central Africa\", \"Region - Latin America and the Caribbean\",   \"Region - Asia and the Pacific\", \"Uganda\", \"Kenya\", \"Tanzania, United Republic of\",   \"Djibouti\", \"Mauritania\", \"Cameroon\", \"Moldova, Republic of\" )  # Lower-profile crises get abandoned lower_profile <- c(   \"Burundi\", \"Rwanda\", \"Eritrea\", \"Nepal\", \"Georgia\", \"Cuba\",   \"Dominican Republic\", \"Madagascar\", \"Mozambique\", \"Angola\", \"Malawi\",   \"Comoros\", \"Liberia\", \"Côte d'Ivoire\", \"Senegal\", \"Ghana\", \"Guinea\",   \"Guinea-Bissau\", \"Lesotho\", \"Eswatini\", \"Zambia\", \"Cambodia\",   \"Lao People's Democratic Republic\", \"Philippines\", \"Timor-Leste\",   \"Sri Lanka\", \"Togo\", \"Benin\", \"Gambia\", \"Nicaragua\", \"Honduras\",   \"El Salvador\", \"Guatemala\", \"Costa Rica\", \"Peru\", \"Ecuador\", \"Panama\",   \"Bolivia, Plurinational State of\", \"Papua New Guinea\", \"Solomon Islands\",   \"Kiribati\", \"Vanuatu\", \"Micronesia, Federated States of\", \"Tonga\",   \"Fiji\", \"Cook Islands\", \"Tuvalu\", \"Samoa\", \"Nauru\", \"Niue\", \"Palau\",   \"Maldives\", \"Armenia\", \"Uzbekistan\", \"Kazakhstan\", \"Turkmenistan\",   \"Azerbaijan\", \"Tajikistan\", \"Kyrgyzstan\", \"Mongolia\", \"Mauritius\",   \"Cape Verde\", \"Equatorial Guinea\", \"Gabon\", \"Botswana\", \"Namibia\",   \"Seychelles\", \"Trinidad and Tobago\", \"Grenada\", \"Saint Lucia\",   \"Saint Vincent and the Grenadines\", \"Barbados\", \"Guyana\", \"Suriname\",   \"Belize\", \"Anguilla (United Kingdom)\", \"Aruba (Netherlands)\",   \"Curaçao (Netherlands)\" )   donor <- indicator_donor_geographic_alignment(flows,                         priority_destinations = high_visibility) #table(donor$Geographic_Alignment)  library(ggplot2) ggplot(donor, aes(x = Geographic_Alignment)) +   geom_histogram( fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Geographic Alignment to High Visibility Location\",     x = \"\",     y = \"Number of Destination\",    caption = paste(     \"Indicator interpretation:\",     \"Jaccard similarity between donor-funded locations and priority      locations (0 = no overlap, 1 = identical geographic focus).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows alignment with specified priority locations. Higher      values indicate donors active in organizational priority countries.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies natural partners for priority crises and reveals funding gaps      in key locations needing advocacy attention.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/reference/indicator_donor_knowledge_sharing_intensity.html","id":null,"dir":"Reference","previous_headings":"","what":"Knowledge Sharing Intensity — indicator_donor_knowledge_sharing_intensity","title":"Knowledge Sharing Intensity — indicator_donor_knowledge_sharing_intensity","text":"Measures proportion flows mentioning collaboration, learning, assessment activities description.","code":""},{"path":"/reference/indicator_donor_knowledge_sharing_intensity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Knowledge Sharing Intensity — indicator_donor_knowledge_sharing_intensity","text":"","code":"indicator_donor_knowledge_sharing_intensity(flows, donors = NULL)"},{"path":"/reference/indicator_donor_knowledge_sharing_intensity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Knowledge Sharing Intensity — indicator_donor_knowledge_sharing_intensity","text":"flows dataframe containing least description nested sourceObjects. donors (optional) dataframe donor names merge results.","code":""},{"path":"/reference/indicator_donor_knowledge_sharing_intensity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Knowledge Sharing Intensity — indicator_donor_knowledge_sharing_intensity","text":"tibble columns: donor Donor organization name. Knowledge_Sharing_Intensity Proportion flows mentioning collaboration/learning/assessment (0–1).","code":""},{"path":"/reference/indicator_donor_knowledge_sharing_intensity.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Knowledge Sharing Intensity — indicator_donor_knowledge_sharing_intensity","text":"Goal: Quantifies degree donor’s funding supports knowledge sharing, joint assessments, learning events, coordination activities.","code":""},{"path":"/reference/indicator_donor_knowledge_sharing_intensity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Knowledge Sharing Intensity — indicator_donor_knowledge_sharing_intensity","text":"","code":"donors <- indicator_donor_knowledge_sharing_intensity(flows) #table(donors$Knowledge_Sharing_Intensity)  library(ggplot2) # Basic histogram of Knowledge Sharing Intensity ggplot(donors, aes(x = Knowledge_Sharing_Intensity)) +   geom_histogram(binwidth = 0.05, fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Knowledge Sharing Intensity\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Proportion of flows mentioning collaboration, learning, or assessment     activities in descriptions (0 = no mention, 1 = all flows include      knowledge components).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows distribution of knowledge sharing emphasis. Higher values      indicate donors prioritizing learning and coordination in funding.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies donors supporting system-wide learning and coordination,      crucial for improving response effectiveness and accountability.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   )"},{"path":"/reference/indicator_donor_recipient_concentration.html","id":null,"dir":"Reference","previous_headings":"","what":"Donor→Recipient: Funding Concentration Index — indicator_donor_recipient_concentration","title":"Donor→Recipient: Funding Concentration Index — indicator_donor_recipient_concentration","text":"Measures share recipient’s total funding comes specific donor.","code":""},{"path":"/reference/indicator_donor_recipient_concentration.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donor→Recipient: Funding Concentration Index — indicator_donor_recipient_concentration","text":"","code":"indicator_donor_recipient_concentration(   flows,   donor_recipient_pairs = NULL,   donors = NULL,   recipient_name = NULL )"},{"path":"/reference/indicator_donor_recipient_concentration.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donor→Recipient: Funding Concentration Index — indicator_donor_recipient_concentration","text":"flows dataframe sourceObjects, destinationObjects, amountUSD. donor_recipient_pairs (optional) dataframe donor–recipient pairs merge results . donors (optional used recipient_name provided ) dataframe donor names merge  results. recipient_name (optional) name specific recipient filter results function","code":""},{"path":"/reference/indicator_donor_recipient_concentration.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donor→Recipient: Funding Concentration Index — indicator_donor_recipient_concentration","text":"tibble donor, recipient, DonorRecipient_Concentration_Index.","code":""},{"path":"/reference/indicator_donor_recipient_concentration.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Donor→Recipient: Funding Concentration Index — indicator_donor_recipient_concentration","text":"Goal: Quantifies dependent recipient donor (share donor’s contribution among total received).","code":""},{"path":"/reference/indicator_donor_recipient_concentration.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donor→Recipient: Funding Concentration Index — indicator_donor_recipient_concentration","text":"","code":"donor_recipient <- indicator_donor_recipient_concentration(flows) #table(donor_recipient$DonorRecipient_Stability_Index)  library(ggplot2) ggplot(donor_recipient, aes(x = DonorRecipient_Concentration_Index)) +   geom_histogram( fill = \"green\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Recipient Concentration Index\",     x = \"\",     y = \"Number of Donor-Recipient Pairs\",     caption = paste(     \"Indicator interpretation:\",     \"Share of recipient's total funding coming from specific donor (0-1).      Higher values indicate recipient dependency on that donor.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows dependency levels across partnerships. Values near 1      indicate critical donor dependencies requiring diversification strategies.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies vulnerable partnerships where recipient organizations risk      severe disruption if key donors change funding priorities.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 1 row containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_donor_recipient_funding_growth.html","id":null,"dir":"Reference","previous_headings":"","what":"Donor-Recipient Funding Growth Trend — indicator_donor_recipient_funding_growth","title":"Donor-Recipient Funding Growth Trend — indicator_donor_recipient_funding_growth","text":"Estimates linear growth (slope) annual funding amounts donor recipient.","code":""},{"path":"/reference/indicator_donor_recipient_funding_growth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donor-Recipient Funding Growth Trend — indicator_donor_recipient_funding_growth","text":"","code":"indicator_donor_recipient_funding_growth(   flows,   donor_recipient_pairs = NULL,   donors = NULL,   recipient_name = NULL )"},{"path":"/reference/indicator_donor_recipient_funding_growth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donor-Recipient Funding Growth Trend — indicator_donor_recipient_funding_growth","text":"flows dataframe containing sourceObjects, destinationObjects, budgetYear, amountUSD. donor_recipient_pairs (optional) dataframe donor–recipient pairs merge results . donors (optional used recipient_name provided ) dataframe donor names merge  results. recipient_name (optional) name specific recipient filter results function","code":""},{"path":"/reference/indicator_donor_recipient_funding_growth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donor-Recipient Funding Growth Trend — indicator_donor_recipient_funding_growth","text":"tibble donor, recipient, Funding_Growth_Trend.","code":""},{"path":"/reference/indicator_donor_recipient_funding_growth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donor-Recipient Funding Growth Trend — indicator_donor_recipient_funding_growth","text":"","code":"donor_recipient <- indicator_donor_recipient_funding_growth(flows) #table(donor_recipient$Funding_Growth_Trend)  library(ggplot2) ggplot(donor_recipient, aes(x = Funding_Growth_Trend)) +   geom_histogram( fill = \"green\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Recipient Funding Growth Trend\",     x = \"\",     y = \"Number of Donor-Recipient Pairs\",     caption = paste(     \"Indicator interpretation:\",     \"Linear regression slope of annual funding amounts between donor-recipient      pairs. Positive values=increasing funding, negative=decreasing funding.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows growth patterns across partnerships. Center around zero      indicates stable funding, right tail indicates expanding partnerships.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies growing vs contracting funding relationships, helping prioritize     partnership development and identify successful collaboration models.\",      \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 1782 rows containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_donor_recipient_reciprocity.html","id":null,"dir":"Reference","previous_headings":"","what":"Donor→Recipient: Reciprocity Ratio — indicator_donor_recipient_reciprocity","title":"Donor→Recipient: Reciprocity Ratio — indicator_donor_recipient_reciprocity","text":"Identifies donor–recipient pairs exchanged funding (organization acts donor recipient least ).","code":""},{"path":"/reference/indicator_donor_recipient_reciprocity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donor→Recipient: Reciprocity Ratio — indicator_donor_recipient_reciprocity","text":"","code":"indicator_donor_recipient_reciprocity(   flows,   donor_recipient_pairs = NULL,   donors = NULL,   recipient_name = NULL )"},{"path":"/reference/indicator_donor_recipient_reciprocity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donor→Recipient: Reciprocity Ratio — indicator_donor_recipient_reciprocity","text":"flows dataframe sourceObjects, destinationObjects, amountUSD. donor_recipient_pairs (optional) dataframe donor–recipient pairs merge results . donors (optional used recipient_name provided ) dataframe donor names merge  results. recipient_name (optional) name specific recipient filter results function","code":""},{"path":"/reference/indicator_donor_recipient_reciprocity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donor→Recipient: Reciprocity Ratio — indicator_donor_recipient_reciprocity","text":"tibble donor, recipient, DonorRecipient_Reciprocity_Ratio (0 1).","code":""},{"path":"/reference/indicator_donor_recipient_reciprocity.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Donor→Recipient: Reciprocity Ratio — indicator_donor_recipient_reciprocity","text":"Goal: Checks whether donor recipient mutual funding roles (send receive) — useful consortia pooled mechanisms.","code":""},{"path":"/reference/indicator_donor_recipient_reciprocity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donor→Recipient: Reciprocity Ratio — indicator_donor_recipient_reciprocity","text":"","code":"donor_recipient <- indicator_donor_recipient_reciprocity(flows) #table(donor_recipient$DonorRecipient_Reciprocity_Ratio)  library(ggplot2) ggplot(donor_recipient, aes(x = DonorRecipient_Reciprocity_Ratio)) +   geom_histogram( fill = \"green\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Recipient Reciprocity Ratio\",     x = \"\",     y = \"Number of Donor-Recipient Pairs\",     caption = paste(     \"Indicator interpretation:\",     \"Binary indicator of mutual funding relationships where both organizations      act as donor and recipient to each other (0=one-way, 1=reciprocal).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Two bars showing proportion of one-way vs reciprocal partnerships.      Higher reciprocal values indicate collaborative funding ecosystems.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Reciprocal funding indicates consortia, pooled funds, or collaborative      programming arrangements that enhance coordination and local ownership.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/reference/indicator_donor_recipient_relationship_duration.html","id":null,"dir":"Reference","previous_headings":"","what":"Donor-Recipient Relationship Duration Index — indicator_donor_recipient_relationship_duration","title":"Donor-Recipient Relationship Duration Index — indicator_donor_recipient_relationship_duration","text":"Calculates normalized duration active funding donor recipient.","code":""},{"path":"/reference/indicator_donor_recipient_relationship_duration.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donor-Recipient Relationship Duration Index — indicator_donor_recipient_relationship_duration","text":"","code":"indicator_donor_recipient_relationship_duration(   flows,   donor_recipient_pairs = NULL,   donors = NULL,   recipient_name = NULL )"},{"path":"/reference/indicator_donor_recipient_relationship_duration.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donor-Recipient Relationship Duration Index — indicator_donor_recipient_relationship_duration","text":"flows dataframe containing sourceObjects, destinationObjects, budgetYear. donor_recipient_pairs (optional) dataframe donor–recipient pairs merge results . donors (optional used recipient_name provided ) dataframe donor names merge  results. recipient_name (optional) name specific recipient filter results function","code":""},{"path":"/reference/indicator_donor_recipient_relationship_duration.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donor-Recipient Relationship Duration Index — indicator_donor_recipient_relationship_duration","text":"tibble columns donor, recipient, Relationship_Duration_Index.","code":""},{"path":"/reference/indicator_donor_recipient_relationship_duration.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donor-Recipient Relationship Duration Index — indicator_donor_recipient_relationship_duration","text":"","code":"donor_recipient <- indicator_donor_recipient_relationship_duration(flows) #> Warning: There were 1180 warnings in `dplyr::summarise()`. #> The first warning was: #> ℹ In argument: `first_year = min(budgetYear, na.rm = TRUE)`. #> ℹ In group 3: `donor = \"African Development Bank\"` `recipient = \"Food and #>   Agriculture Organization of the United Nations\"`. #> Caused by warning in `min()`: #> ! no non-missing arguments to min; returning Inf #> ℹ Run dplyr::last_dplyr_warnings() to see the 1179 remaining warnings. #table(donor_recipient$Relationship_Duration_Index)  library(ggplot2) ggplot(donor_recipient, aes(x = Relationship_Duration_Index)) +   geom_histogram( fill = \"green\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Recipient Relationship Duration Index\",     x = \"\",     y = \"Number of Donor-Recipient Pairs\",     caption = paste(     \"Indicator interpretation:\",     \"Normalized duration of active funding relationships between donor-recipient     pairs (0=new relationship, 1=active since earliest data).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows relationship longevity across partnerships. Right-skewed      distribution indicates many new relationships, left-skewed indicates      established partnerships.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Long-term partnerships build trust, contextual understanding, and     operational efficiency, leading to more effective crisis response.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 1782 rows containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_donor_recipient_stability.html","id":null,"dir":"Reference","previous_headings":"","what":"Donor→Recipient: Relationship Stability Index — indicator_donor_recipient_stability","title":"Donor→Recipient: Relationship Stability Index — indicator_donor_recipient_stability","text":"Calculates consistently donor funds recipient time series, proportion years nonzero funding pair.","code":""},{"path":"/reference/indicator_donor_recipient_stability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donor→Recipient: Relationship Stability Index — indicator_donor_recipient_stability","text":"","code":"indicator_donor_recipient_stability(   flows,   donor_recipient_pairs = NULL,   donors = NULL,   recipient_name = NULL )"},{"path":"/reference/indicator_donor_recipient_stability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donor→Recipient: Relationship Stability Index — indicator_donor_recipient_stability","text":"flows dataframe sourceObjects, destinationObjects, budgetYear, amountUSD. donor_recipient_pairs (optional) dataframe donor–recipient pairs merge results . donors (optional used recipient_name provided ) dataframe donor names merge  results. recipient_name (optional) name specific recipient filter results function","code":""},{"path":"/reference/indicator_donor_recipient_stability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donor→Recipient: Relationship Stability Index — indicator_donor_recipient_stability","text":"tibble donor, recipient, DonorRecipient_Stability_Index.","code":""},{"path":"/reference/indicator_donor_recipient_stability.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Donor→Recipient: Relationship Stability Index — indicator_donor_recipient_stability","text":"Goal: Measures consistently donor funds recipient time (share active years).","code":""},{"path":"/reference/indicator_donor_recipient_stability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donor→Recipient: Relationship Stability Index — indicator_donor_recipient_stability","text":"","code":"donor_recipient <- indicator_donor_recipient_stability(flows) #table(donor_recipient$DonorRecipient_Stability_Index)  library(ggplot2) ggplot(donor_recipient, aes(x = DonorRecipient_Stability_Index)) +   geom_histogram( fill = \"green\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Recipient Stability Index\",     x = \"\",     y = \"Number of Donor-Recipient Pairs\",     caption = paste(     \"Indicator interpretation:\",     \"Proportion of years with active funding between donor-recipient pairs      (0=sporadic funding, 1=consistent annual funding throughout relationship).\",     \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows funding consistency patterns. Higher values indicate      reliable annual partnerships, lower values indicate intermittent engagement.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Consistent funding enables long-term programming, staff retention, and      institutional strengthening rather than project-based short-term engagements.\",      \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 295 rows containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_donor_recipient_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Donor→Recipient: Funding Trend Index — indicator_donor_recipient_trend","title":"Donor→Recipient: Funding Trend Index — indicator_donor_recipient_trend","text":"Computes slope funding trend time donor–recipient pair.","code":""},{"path":"/reference/indicator_donor_recipient_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donor→Recipient: Funding Trend Index — indicator_donor_recipient_trend","text":"","code":"indicator_donor_recipient_trend(   flows,   donor_recipient_pairs = NULL,   donors = NULL,   recipient_name = NULL )"},{"path":"/reference/indicator_donor_recipient_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donor→Recipient: Funding Trend Index — indicator_donor_recipient_trend","text":"flows dataframe sourceObjects, destinationObjects, budgetYear, amountUSD. donor_recipient_pairs (optional) dataframe donor–recipient pairs merge results . donors (optional used recipient_name provided ) dataframe donor names merge  results. recipient_name (optional) name specific recipient filter results function","code":""},{"path":"/reference/indicator_donor_recipient_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donor→Recipient: Funding Trend Index — indicator_donor_recipient_trend","text":"tibble donor, recipient, DonorRecipient_Trend_Index (slope).","code":""},{"path":"/reference/indicator_donor_recipient_trend.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Donor→Recipient: Funding Trend Index — indicator_donor_recipient_trend","text":"Goal: Detects whether funding donor recipient increasing decreasing time (slope linear regression).","code":""},{"path":"/reference/indicator_donor_recipient_trend.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donor→Recipient: Funding Trend Index — indicator_donor_recipient_trend","text":"","code":"donor_recipient <- indicator_donor_recipient_trend(flows) #table(donor_recipient$DonorRecipient_Trend_Index)  library(ggplot2) ggplot(donor_recipient, aes(x = DonorRecipient_Trend_Index)) +   geom_histogram( fill = \"green\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Recipient Trend Index\",     x = \"\",     y = \"Number of Donor-Recipient Pairs\",     caption = paste(     \"Indicator interpretation:\",     \"Linear trend of funding amounts between donor-recipient pairs over time.      Positive=increasing investment, negative=phasing out partnership.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows partnership evolution patterns. Right of zero indicates      growing collaborations, left indicates declining engagements.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Reveals evolving partnership strategies - scaling successful collaborations     vs exiting less effective ones - informing relationship management.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 1782 rows containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_donor_relationship_duration.html","id":null,"dir":"Reference","previous_headings":"","what":"Relationship Duration Index — indicator_donor_relationship_duration","title":"Relationship Duration Index — indicator_donor_relationship_duration","text":"Measures duration donor’s funding relationship relative maximum possible duration.","code":""},{"path":"/reference/indicator_donor_relationship_duration.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Relationship Duration Index — indicator_donor_relationship_duration","text":"","code":"indicator_donor_relationship_duration(flows, donors = NULL)"},{"path":"/reference/indicator_donor_relationship_duration.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Relationship Duration Index — indicator_donor_relationship_duration","text":"flows dataframe containing sourceObjects budgetYear. donors Optional dataframe donor names.","code":""},{"path":"/reference/indicator_donor_relationship_duration.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Relationship Duration Index — indicator_donor_relationship_duration","text":"tibble donor Relationship_Duration_Index.","code":""},{"path":"/reference/indicator_donor_relationship_duration.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Relationship Duration Index — indicator_donor_relationship_duration","text":"","code":"donors <- indicator_donor_relationship_duration(flows) #> Warning: There were 74 warnings in `dplyr::summarise()`. #> The first warning was: #> ℹ In argument: `first_year = min(budgetYear, na.rm = TRUE)`. #> ℹ In group 7: `donor = \"Al-Salam Association for humanitarian and charitable #>   works\"`. #> Caused by warning in `min()`: #> ! no non-missing arguments to min; returning Inf #> ℹ Run dplyr::last_dplyr_warnings() to see the 73 remaining warnings. #table(donor$Relationship_Duration_Index) library(ggplot2) ggplot(donors, aes(x = Relationship_Duration_Index)) +   geom_histogram(binwidth = 0.05, fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Relationship Duration Index\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Measures duration of donor's funding relationship relative to maximum      possible duration. 1 = active since earliest data, 0 = new entrant.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows distribution of duration scores. Left-skewed distribution      indicates many new donors, right-skewed indicates established      relationships.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Long-term donors often have deeper contextual understanding and more      predictable funding patterns for strategic planning.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> Warning: Removed 37 rows containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_donor_sector_alignment.html","id":null,"dir":"Reference","previous_headings":"","what":"Sector Alignment — indicator_donor_sector_alignment","title":"Sector Alignment — indicator_donor_sector_alignment","text":"Calculates weighted sector alignment index donors recipients, comparing donor funding per sector internal capacity weights.","code":""},{"path":"/reference/indicator_donor_sector_alignment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sector Alignment — indicator_donor_sector_alignment","text":"","code":"indicator_donor_sector_alignment(flows, sector_capacity, donors = NULL)"},{"path":"/reference/indicator_donor_sector_alignment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sector Alignment — indicator_donor_sector_alignment","text":"flows dataframe sourceObjects, destinationObjects, amountUSD. sector_capacity tibble columns sector capacity_weight (values 0–1). donors (optional) dataframe donor names merge results.","code":""},{"path":"/reference/indicator_donor_sector_alignment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sector Alignment — indicator_donor_sector_alignment","text":"tibble columns donor, recipient, Sector_Alignment.","code":""},{"path":"/reference/indicator_donor_sector_alignment.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sector Alignment — indicator_donor_sector_alignment","text":"Goal: evaluates closely donor’s funding distribution across humanitarian sectors matches internal capacity priority weighting sectors","code":""},{"path":"/reference/indicator_donor_sector_alignment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sector Alignment — indicator_donor_sector_alignment","text":"","code":"flows |>       tidyr::unnest(destinationObjects, names_repair = \"unique\", names_sep = \"_\") |>       dplyr::filter(destinationObjects_type == \"GlobalCluster\") |>       dplyr::pull(destinationObjects_name) |>       unlist() |>       unique() #>  [1] \"Nutrition\"                                  #>  [2] \"Health\"                                     #>  [3] \"Other\"                                      #>  [4] \"Emergency Shelter and NFI\"                  #>  [5] \"Water Sanitation Hygiene\"                   #>  [6] \"Food Security\"                              #>  [7] \"Logistics\"                                  #>  [8] \"Coordination and support services\"          #>  [9] \"Protection - Gender-Based Violence\"         #> [10] \"Multi-sector\"                               #> [11] \"Protection\"                                 #> [12] \"Education\"                                  #> [13] \"Early Recovery\"                             #> [14] \"Protection - Child Protection\"              #> [15] \"Protection - Mine Action\"                   #> [16] \"Agriculture\"                                #> [17] \"Protection - Housing, Land and Property\"    #> [18] \"Camp Coordination / Management\"             #> [19] \"Protection - Human Trafficking & Smuggling\" #> [20] \"Multipurpose Cash\"                          #> [21] \"Emergency Telecommunications\"                # pragmatic default weights - illustrative defaults emphasizing life-saving sectors  # (Nutrition, Health, WASH, Food Security) and cash/multi-sector where relevant. library(tibble)  sectors <- c(  \"Nutrition\",   \"Health\",   \"Emergency Shelter and NFI\",   \"Water Sanitation Hygiene\",  \"Food Security\",  \"Logistics\",   \"Protection - Gender-Based Violence\",   \"Protection - Child Protection\",  \"Protection\",  \"Multipurpose Cash\",   \"Education\",  \"Multi-sector\",  \"Protection - Housing, Land and Property\",  \"Protection - Human Trafficking & Smuggling\",   \"Coordination and support services\",  \"Camp Coordination / Management\",  \"Emergency Telecommunications\",   \"Agriculture\",  \"Early Recovery\",  \"Protection - Mine Action\",   \"Other\" )  # Adjusted scores based on funding collapse and operational risk  adjusted_scores <- c(   10,  # Nutrition: Life-saving and first-line response; malnutrition spikes in   #crises. Funding collapse means ration cuts, so priority remains highest.   9,   # Health: Essential for survival; clinics reverting to 1990s models    #(minimal staff, basic meds). High priority to prevent mortality.   8,   # Emergency Shelter and NFI: Critical for displaced populations;   #exposure risk rises with underfunding. Still high but slightly below health/nutrition.   8,   # Water Sanitation Hygiene (WASH): Prevents disease outbreaks;    #cholera risk escalates when systems fail. Needs strong prioritization.   7,   # Food Security: Linked to nutrition but broader (agriculture, livelihoods).   #Funding gaps mean rationing; still vital but slightly less than direct nutrition.   6,   # Logistics: Backbone for all sectors; underfunding reduces supply chain    #resilience. Important but not life-saving on its own.   7,   # Protection - Gender-Based Violence: GBV spikes in fragile contexts;    #services often first to be cut. Needs strong prioritization for dignity and safety.   6,   # Protection - Child Protection: Critical for safeguarding vulnerable   #children; funding collapse risks exploitation. Medium-high priority.   5,   # Protection (general): Important for rights and safety but less    #immediately life-saving than GBV or child protection.   9,   # Multipurpose Cash: Severely underfunded (only ~20% coverage);   #key for dignity and flexibility. High priority to maintain household resilience.   8,   # Education: Collapsing (21% funded); long-term impact on recovery    #and protection. Elevated priority despite being non-life-saving.   6,   # Multi-sector: Coordination across sectors matters, but direct impact    # is less urgent than core life-saving interventions.   4,   # Protection - Housing, Land and Property: Important for durable   #solutions, but less urgent during acute collapse.   4,   # Protection - Human Trafficking & Smuggling: Serious risk but narrower   #scope; medium-low priority compared to GBV/child protection.   3,   # Coordination and support services: Necessary for system functioning,   # but deprioritized when survival sectors collapse.   3,   # Camp Coordination / Management: Important for organized response,   #but less critical than food, health, WASH.   3,   # Emergency Telecommunications: Enables operations but not directly   #life-saving; deprioritized under severe funding constraints.   5,   # Agriculture: Supports food security and recovery; medium priority    #as immediate needs dominate.   8,   # Early Recovery: Only 17% funded; crucial for resilience and    #preventing protracted crises. Elevated priority despite systemic collapse.   2,   # Protection - Mine Action: Important for safety but less urgent    # than health/nutrition during acute funding collapse.   1    # Other: Catch-all category; lowest priority given resource scarcity. )    sector_capacity <- tibble::tibble(   sector = sectors,   raw_score = adjusted_scores) |>   dplyr::mutate(     capacity_weight = raw_score / sum(raw_score)  # normalize to sum to 1   ) |>   dplyr::select(sector, capacity_weight)  knitr::kable(sector_capacity |> dplyr::arrange(desc(capacity_weight))) #>  #>  #> |sector                                     | capacity_weight| #> |:------------------------------------------|---------------:| #> |Nutrition                                  |       0.0819672| #> |Health                                     |       0.0737705| #> |Multipurpose Cash                          |       0.0737705| #> |Emergency Shelter and NFI                  |       0.0655738| #> |Water Sanitation Hygiene                   |       0.0655738| #> |Education                                  |       0.0655738| #> |Early Recovery                             |       0.0655738| #> |Food Security                              |       0.0573770| #> |Protection - Gender-Based Violence         |       0.0573770| #> |Logistics                                  |       0.0491803| #> |Protection - Child Protection              |       0.0491803| #> |Multi-sector                               |       0.0491803| #> |Protection                                 |       0.0409836| #> |Agriculture                                |       0.0409836| #> |Protection - Housing, Land and Property    |       0.0327869| #> |Protection - Human Trafficking & Smuggling |       0.0327869| #> |Coordination and support services          |       0.0245902| #> |Camp Coordination / Management             |       0.0245902| #> |Emergency Telecommunications               |       0.0245902| #> |Protection - Mine Action                   |       0.0163934| #> |Other                                      |       0.0081967|  donors <- indicator_donor_sector_alignment(flows, sector_capacity)  #table(donor$Sector_Alignment )  library(ggplot2) ggplot(donors, aes(x =Sector_Alignment )) +   geom_histogram(binwidth = 0.05, fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Sector Alignment\",     x = \"\",     y = \"Number of Destination\",     caption = paste(     \"Indicator interpretation:\",     \"Weighted alignment between donor funding distribution and internal sector     capacity priorities (0 = misaligned, 1 = perfectly aligned with      capacity weights).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows alignment scores. Higher values indicate donors funding      sectors matching organizational capacities and strategic priorities.\",     \"\\n\\n\",          \"Humanitarian relevance:\",     \"Helps identify donors whose funding priorities match operational strengths,     enabling more effective resource allocation and partnership building.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   )"},{"path":"/reference/indicator_donor_systemic_concentration.html","id":null,"dir":"Reference","previous_headings":"","what":"Donor Systemic: Concentration Index — indicator_donor_systemic_concentration","title":"Donor Systemic: Concentration Index — indicator_donor_systemic_concentration","text":"Calculates Herfindahl–Hirschman concentration index (HHI) donor, based distribution funding amounts across recipient organizations. higher value means donor funds fewer recipients heavily.","code":""},{"path":"/reference/indicator_donor_systemic_concentration.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donor Systemic: Concentration Index — indicator_donor_systemic_concentration","text":"","code":"indicator_donor_systemic_concentration(flows, donors = NULL)"},{"path":"/reference/indicator_donor_systemic_concentration.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donor Systemic: Concentration Index — indicator_donor_systemic_concentration","text":"flows dataframe including sourceObjects, destinationObjects, amountUSD. donors (optional) dataframe donor names merge results.","code":""},{"path":"/reference/indicator_donor_systemic_concentration.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donor Systemic: Concentration Index — indicator_donor_systemic_concentration","text":"tibble donor Donor_Concentration_Index (0–1 scale).","code":""},{"path":"/reference/indicator_donor_systemic_concentration.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Donor Systemic: Concentration Index — indicator_donor_systemic_concentration","text":"Goal: Measures concentrated donor’s portfolio across recipients.","code":""},{"path":"/reference/indicator_donor_systemic_concentration.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donor Systemic: Concentration Index — indicator_donor_systemic_concentration","text":"","code":"donors <- indicator_donor_systemic_concentration(flows)  #table(donors$Donor_Concentration_Index)  library(ggplot2) ggplot(donors, aes(x = Donor_Concentration_Index)) +   geom_histogram(binwidth = 0.05, fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Concentration Index\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Herfindahl-Hirschman Index measuring portfolio concentration across      recipients (0 = highly diversified, 1 = focused on few recipients).\",     \"\\n\\n\",          \"How to read the visualization:\",     \"X-axis shows concentration level. Left side indicates donors spreading     funds widely, right side indicates focused funding on few partners.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Helps identify donors with broad partner networks vs specialized      relationships, informing partnership and resource mobilization strategies.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   )"},{"path":"/reference/indicator_donor_systemic_destination_alignment.html","id":null,"dir":"Reference","previous_headings":"","what":"Donors Systemic: Destination Alignment (Optimized) — indicator_donor_systemic_destination_alignment","title":"Donors Systemic: Destination Alignment (Optimized) — indicator_donor_systemic_destination_alignment","text":"Calculates pairwise Jaccard similarity donors based funded destinations (locations clusters). indicates overlap convergence geographic thematic focus.","code":""},{"path":"/reference/indicator_donor_systemic_destination_alignment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donors Systemic: Destination Alignment (Optimized) — indicator_donor_systemic_destination_alignment","text":"","code":"indicator_donor_systemic_destination_alignment(flows)"},{"path":"/reference/indicator_donor_systemic_destination_alignment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donors Systemic: Destination Alignment (Optimized) — indicator_donor_systemic_destination_alignment","text":"flows dataframe including least sourceObjects destinationObjects nested data frames.","code":""},{"path":"/reference/indicator_donor_systemic_destination_alignment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donors Systemic: Destination Alignment (Optimized) — indicator_donor_systemic_destination_alignment","text":"tibble columns: donor1 First donor pair. donor2 Second donor pair. Destination_Alignment Jaccard similarity (0–1) destinations.","code":""},{"path":"/reference/indicator_donor_systemic_destination_alignment.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Donors Systemic: Destination Alignment (Optimized) — indicator_donor_systemic_destination_alignment","text":"Goal: Measures many destinations common donors relative total unique destinations, producing 0–1 index. function works follows: Filters flows using filter_flows_for_indicators() remove flows included (e.g., parked parents, pass-throughs, --boundary flows). Unnests sourceObjects destinationObjects, keeping donors valid destination types (Cluster, GlobalCluster, Location). Creates list destinations donor. Computes Jaccard similarity unique donor pairs using precomputed lists, avoiding repeated filtering. Returns tibble donor1, donor2, Destination_Alignment.","code":""},{"path":"/reference/indicator_donor_systemic_destination_alignment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donors Systemic: Destination Alignment (Optimized) — indicator_donor_systemic_destination_alignment","text":"","code":"# Compute alignment alignment <- indicator_donor_systemic_destination_alignment(flows)  # Viz library(ggplot2) library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union   # Compute total funding per donor top_donors <- flows |>   tidyr::unnest(sourceObjects, names_sep = \"_\") |>   dplyr::filter(sourceObjects_type == \"Organization\") |>   dplyr::rename(donor = sourceObjects_name) |>   dplyr::group_by(donor) |>   dplyr::summarise(total_funding = sum(amountUSD, na.rm = TRUE), .groups = \"drop\") |>   dplyr::arrange(desc(total_funding)) |>   dplyr::slice_head(n = 15) |>   dplyr::pull(donor)  # Filter alignment to top donors alignment_top <- alignment |>   dplyr::filter(donor1 %in% top_donors, donor2 %in% top_donors)  # Prepare data for ggplot plot_df <- alignment_top |>   dplyr::mutate(     donor1 = factor(donor1, levels = top_donors),     donor2 = factor(donor2, levels = top_donors)   )  # Heatmap ggplot(plot_df, aes(x = donor2, y = donor1, fill = Destination_Alignment)) +   geom_tile(color = \"white\") +   scale_fill_viridis_c(option = \"plasma\", na.value = \"grey80\", limits = c(0, 1)) +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   theme(axis.text.x = element_text(angle = 45, hjust = 1)) +   labs(     title = \"Top 15 Donors: Destination Alignment\",     x = \"Donor 2\",     y = \"Donor 1\",     fill = \"Jaccard\\nSimilarity\",     caption = paste(     \"Indicator interpretation:\",     \"Jaccard similarity measuring overlap in funded locations/clusters between donor pairs (0 = no overlap, 1 = identical destination portfolios).\", \"\\n\\n\",          \"How to read the visualization:\",     \"Heatmap shows pairwise alignment. Dark colors indicate high geographic/thematic overlap, light colors indicate complementary coverage.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies donor clusters with similar focus areas, helping coordinate advocacy and avoid duplication in under-funded crises.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   )"},{"path":"/reference/indicator_donor_timing_consistency.html","id":null,"dir":"Reference","previous_headings":"","what":"Donor Timing Consistency Index — indicator_donor_timing_consistency","title":"Donor Timing Consistency Index — indicator_donor_timing_consistency","text":"indicator measures consistently donor provides funding across months year, based transaction-level date field FTS flows. evaluates dispersion monthly funding shares scales result 0–1 index higher values represent regular predictable timing contributions.","code":""},{"path":"/reference/indicator_donor_timing_consistency.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Donor Timing Consistency Index — indicator_donor_timing_consistency","text":"","code":"indicator_donor_timing_consistency(flows, donors = NULL)"},{"path":"/reference/indicator_donor_timing_consistency.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Donor Timing Consistency Index — indicator_donor_timing_consistency","text":"flows dataframe containing sourceObjects, budgetMonth (1–12), amountUSD. donors Optional dataframe donor names.","code":""},{"path":"/reference/indicator_donor_timing_consistency.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Donor Timing Consistency Index — indicator_donor_timing_consistency","text":"tibble donor Timing_Consistency (1 = consistent, 0 = erratic).","code":""},{"path":"/reference/indicator_donor_timing_consistency.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Donor Timing Consistency Index — indicator_donor_timing_consistency","text":"","code":"donors <- indicator_donor_timing_consistency(flows) #table(donors$Timing_Consistency) library(ggplot2) ggplot(donors, aes(x = Timing_Consistency)) +   geom_histogram(binwidth = 0.05, fill = \"steelblue\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Donor Timing Consistency\",     x = \"\",     y = \"Number of Donors\",     caption = paste(     \"Indicator interpretation:\",     \"Measures regularity of funding distribution across month     (1 = evenly spread, 0 = highly seasonal/erratic). Based on monthly      funding share dispersion.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows consistency scores. Higher values indicate predictable     monthly funding patterns, lower values indicate lumpy or seasonal     disbursements.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Predictable timing enables better cash flow management and program     continuity, reducing operational disruptions in emergency responses.\",     \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> Warning: Removed 119 rows containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_recipient_amount_stability.html","id":null,"dir":"Reference","previous_headings":"","what":"Amount Stability — indicator_recipient_amount_stability","title":"Amount Stability — indicator_recipient_amount_stability","text":"Measures stability annual funding amounts recipient 1 minus coefficient variation annual totals.","code":""},{"path":"/reference/indicator_recipient_amount_stability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Amount Stability — indicator_recipient_amount_stability","text":"","code":"indicator_recipient_amount_stability(flows, recipients = NULL)"},{"path":"/reference/indicator_recipient_amount_stability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Amount Stability — indicator_recipient_amount_stability","text":"flows dataframe containing destinationObjects, budgetYear, amountUSD. recipients Optional dataframe recipient organizations merge.","code":""},{"path":"/reference/indicator_recipient_amount_stability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Amount Stability — indicator_recipient_amount_stability","text":"tibble columns recipient Amount_Stability.","code":""},{"path":"/reference/indicator_recipient_amount_stability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Amount Stability — indicator_recipient_amount_stability","text":"","code":"recipients <- indicator_recipient_amount_stability(flows) #table(recipients$Amount_Stability)  library(ggplot2) ggplot(recipients, aes(x = Amount_Stability)) +   geom_histogram( fill = \"lightgreen\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Recipients Amount Stability\",     x = \"\",     y = \"Number of Recipients\",     caption = paste(     \"Indicator interpretation:\",     \"Measures year-to-year funding stability as 1 minus coefficient of variation.     1 = perfectly stable annual funding, lower values = volatile funding      patterns.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows stability scores. Higher values indicate predictable funding     streams, negative values indicate high volatility (SD > mean).\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Stable funding enables long-term programming and institutional strengthening,     while volatility disrupts operations and staff retention.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 564 rows containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/indicator_recipient_cofunding_rate.html","id":null,"dir":"Reference","previous_headings":"","what":"Co-Funding Rate — indicator_recipient_cofunding_rate","title":"Co-Funding Rate — indicator_recipient_cofunding_rate","text":"Calculates percentage flows recipient shares funding recipient organizations (sole recipient).","code":""},{"path":"/reference/indicator_recipient_cofunding_rate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Co-Funding Rate — indicator_recipient_cofunding_rate","text":"","code":"indicator_recipient_cofunding_rate(flows, recipients = NULL)"},{"path":"/reference/indicator_recipient_cofunding_rate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Co-Funding Rate — indicator_recipient_cofunding_rate","text":"flows dataframe containing destinationObjects amountUSD. recipients Optional dataframe recipient organizations merge.","code":""},{"path":"/reference/indicator_recipient_cofunding_rate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Co-Funding Rate — indicator_recipient_cofunding_rate","text":"tibble recipient Co_Funding_Rate.","code":""},{"path":"/reference/indicator_recipient_cofunding_rate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Co-Funding Rate — indicator_recipient_cofunding_rate","text":"","code":"recipients <- indicator_recipient_cofunding_rate(flows) #table(recipients$Co_Funding_Rate)  library(ggplot2) ggplot(recipients, aes(x = Co_Funding_Rate)) +   geom_histogram( fill = \"lightgreen\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Recipients CoFunding Rate\",     x = \"\",     y = \"Number of Recipients\",     caption = paste(     \"Indicator interpretation:\",     \"Percentage of funding flows where recipient shares funding with other      organizations (not sole recipient). 0 = always sole recipient,      1 = always co-funded.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows co-funding frequency. Higher values indicate collaborative     funding arrangements, lower values indicate standalone projects.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies organizations experienced in consortium work and coordination,     crucial for complex multi-partner responses and integrated programming.\",      \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/reference/indicator_recipient_funding_share.html","id":null,"dir":"Reference","previous_headings":"","what":"Funding Volume Share — indicator_recipient_funding_share","title":"Funding Volume Share — indicator_recipient_funding_share","text":"Calculates share total funding received recipient organization.","code":""},{"path":"/reference/indicator_recipient_funding_share.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Funding Volume Share — indicator_recipient_funding_share","text":"","code":"indicator_recipient_funding_share(flows, recipients = NULL)"},{"path":"/reference/indicator_recipient_funding_share.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Funding Volume Share — indicator_recipient_funding_share","text":"flows dataframe containing destinationObjects amountUSD. recipients Optional dataframe recipient organizations merge results.","code":""},{"path":"/reference/indicator_recipient_funding_share.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Funding Volume Share — indicator_recipient_funding_share","text":"tibble columns recipient Funding_Volume_Share.","code":""},{"path":"/reference/indicator_recipient_funding_share.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Funding Volume Share — indicator_recipient_funding_share","text":"","code":"recipients <- indicator_recipient_funding_share(flows) #table(recipients$Funding_Volume_Share)  library(ggplot2) # Basic histogram of Knowledge Sharing Intensity ggplot(recipients, aes(x = Funding_Volume_Share)) +   geom_histogram( fill = \"lightgreen\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Recipients Funding Volume Share\",     x = \"\",     y = \"Number of Recipients\",     caption = paste(     \"Indicator interpretation:\",     \"Measures the proportion of total humanitarian funding received by each      recipient organization. Higher values indicate larger market share.\",      \"\\n\\n\",          \"How to read the visualization:\",     \"X-axis shows funding share (0-1), Y-axis shows recipient count. Most      recipients will have small shares, few will dominate (right tail).\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Identifies major implementing partners and market concentration, helping      understand dependency risks and partnership opportunities.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`."},{"path":"/reference/indicator_recipient_systemic_diversification.html","id":null,"dir":"Reference","previous_headings":"","what":"Recipient Systemic: Diversification Index — indicator_recipient_systemic_diversification","title":"Recipient Systemic: Diversification Index — indicator_recipient_systemic_diversification","text":"Calculates entropy funding sources per recipient, indicating diversified recipient’s funding base across donors.","code":""},{"path":"/reference/indicator_recipient_systemic_diversification.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recipient Systemic: Diversification Index — indicator_recipient_systemic_diversification","text":"","code":"indicator_recipient_systemic_diversification(flows, recipients_df = NULL)"},{"path":"/reference/indicator_recipient_systemic_diversification.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Recipient Systemic: Diversification Index — indicator_recipient_systemic_diversification","text":"flows dataframe including sourceObjects, destinationObjects, amountUSD. recipients_df (optional) dataframe recipient names merge results.","code":""},{"path":"/reference/indicator_recipient_systemic_diversification.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Recipient Systemic: Diversification Index — indicator_recipient_systemic_diversification","text":"tibble recipient Recipient_Diversification_Index (0–1 scale).","code":""},{"path":"/reference/indicator_recipient_systemic_diversification.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Recipient Systemic: Diversification Index — indicator_recipient_systemic_diversification","text":"Goal: Measures many donors contribute recipient, using entropy. High entropy = diversified funding base.","code":""},{"path":"/reference/indicator_recipient_systemic_diversification.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Recipient Systemic: Diversification Index — indicator_recipient_systemic_diversification","text":"","code":"recipients <- indicator_recipient_systemic_diversification(flows) #table(recipients$Recipient_Diversification_Index)  library(ggplot2) ggplot(recipients, aes(x = Recipient_Diversification_Index)) +   geom_histogram( fill = \"lightgreen\", color = \"white\") +   unhcrthemes::theme_unhcr(grid = \"Y\", axis = \"X\", axis_title = FALSE) +   labs(     title = \"Distribution of Recipient Diversification Index\",     x = \"\",     y = \"Number of Recipients\",     caption = paste(     \"Indicator interpretation:\",     \"Entropy-based measure of funding source diversification across donors.      0 = dependent on single donor,     1 = perfectly diversified across many donors.\", \"\\n\\n\",          \"How to read the visualization:\",     \"Histogram shows diversification levels. Higher values indicate resilient      funding bases, lower values indicate donor concentration risks.\", \"\\n\\n\",          \"Humanitarian relevance:\",     \"Diversified funding reduces vulnerability to individual donor policy      changes and enhances organizational sustainability and independence.\", \"\\n\\n\",          \"Source: Financial Tracking Service (FTS) API.\"   )   ) #> `stat_bin()` using `bins = 30`. Pick better value `binwidth`. #> Warning: Removed 600 rows containing non-finite outside the scale range (`stat_bin()`)."},{"path":"/reference/plot_donor_cluster_coverage.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Donor Cluster Coverage — plot_donor_cluster_coverage","title":"Plot Donor Cluster Coverage — plot_donor_cluster_coverage","text":"Visualizes humanitarian clusters donor supports, using number flows per cluster. Useful understand donor focus alignment sector priorities.","code":""},{"path":"/reference/plot_donor_cluster_coverage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Donor Cluster Coverage — plot_donor_cluster_coverage","text":"","code":"plot_donor_cluster_coverage(flows, donor_name)"},{"path":"/reference/plot_donor_cluster_coverage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Donor Cluster Coverage — plot_donor_cluster_coverage","text":"flows FTS flows dataframe. donor_name Donor organization name.","code":""},{"path":"/reference/plot_donor_cluster_coverage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Donor Cluster Coverage — plot_donor_cluster_coverage","text":"ggplot object showing donor funding coverage across clusters.","code":""},{"path":"/reference/plot_donor_cluster_coverage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Donor Cluster Coverage — plot_donor_cluster_coverage","text":"","code":"p <- plot_donor_cluster_coverage(flows, donor_name= \"Spain, Government of\")  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> The Spanish government demonstrates a broad commitment to humanitarian action, extending financial support across at least 17 distinct humanitarian clusters. This wide-ranging engagement indicates a dedication to addressing diverse urgent needs globally. #>  #> However, a closer look at the financial flows reveals a clear strategic focus. While Spain contributes to many areas, certain clusters receive significantly more attention and investment through a higher volume of transactions. One cluster in particular (cluster 17) stands out as a major priority, drawing 46 separate financial flows. Other clusters also show substantial engagement, receiving 30, 25, and 24 flows respectively, suggesting concentrated efforts in these specific aid sectors. #>  #> Conversely, some clusters receive much less frequent financial support, with one cluster (cluster 1) recording only a single flow and others receiving just two or three. This disparity underscores a strategic allocation of resources, where the Spanish government prioritizes certain critical humanitarian areas for more robust and frequent support, while still maintaining a presence in other vital, yet less frequently funded, sectors. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/reference/plot_donor_earmarking.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Donor Funding by Earmarking Type — plot_donor_earmarking","title":"Plot Donor Funding by Earmarking Type — plot_donor_earmarking","text":"Visualizes proportion funding per earmarking type (Unearmarked, Softly earmarked, etc.) selected donor. Helps understand donor flexibility restrictions.","code":""},{"path":"/reference/plot_donor_earmarking.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Donor Funding by Earmarking Type — plot_donor_earmarking","text":"","code":"plot_donor_earmarking(flows, donor_name)"},{"path":"/reference/plot_donor_earmarking.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Donor Funding by Earmarking Type — plot_donor_earmarking","text":"flows dataframe humanitarian funding flows (FTS format). donor_name Donor organization name filter.","code":""},{"path":"/reference/plot_donor_earmarking.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Donor Funding by Earmarking Type — plot_donor_earmarking","text":"ggplot object showing donor funding earmarking type.","code":""},{"path":"/reference/plot_donor_earmarking.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Donor Funding by Earmarking Type — plot_donor_earmarking","text":"","code":"p <- plot_donor_earmarking(flows, donor_name= \"Spain, Government of\")  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> The Government of Spain plays a crucial role in humanitarian action, and this chart reveals how their funding is strategically distributed across different earmarking types. The insights show a clear preference for a particular funding mechanism. #>  #> A dominant share of Spain's humanitarian support, over €76 million, is directed towards a single earmarking type. This significant allocation often indicates funding with greater flexibility, a highly valued resource for humanitarian organizations. Flexible funding empowers aid agencies to quickly adapt to rapidly changing crises, allocate resources where needs are most critical, and cover underfunded emergencies. #>  #> While this primary category leads, Spain also provides substantial support to other earmarking types, including over €33 million to another significant category, and additional amounts to more specific initiatives. This diversified approach ensures support for a range of humanitarian interventions. Spain's distribution of funds, particularly the large flexible component, strengthens the ability of humanitarian partners to deliver timely and effective assistance to those most in need worldwide. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/reference/plot_donor_flowtype.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Donor Flow Type Distribution — plot_donor_flowtype","title":"Plot Donor Flow Type Distribution — plot_donor_flowtype","text":"Shows distribution flow types (Standard, Parked, Pass-, Carryover) selected donor. Useful understanding donor engagement complexity.","code":""},{"path":"/reference/plot_donor_flowtype.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Donor Flow Type Distribution — plot_donor_flowtype","text":"","code":"plot_donor_flowtype(flows, donor_name)"},{"path":"/reference/plot_donor_flowtype.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Donor Flow Type Distribution — plot_donor_flowtype","text":"flows FTS flows dataframe. donor_name Donor organization name.","code":""},{"path":"/reference/plot_donor_flowtype.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Donor Flow Type Distribution — plot_donor_flowtype","text":"ggplot object showing flow type proportions.","code":""},{"path":"/reference/plot_donor_flowtype.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Donor Flow Type Distribution — plot_donor_flowtype","text":"","code":"p <- plot_donor_flowtype(flows, donor_name= \"Spain, Government of\")  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> The Government of Spain stands as a significant humanitarian donor, and this visualization offers a clear view into how its funding is distributed across different channels. #>  #> A striking pattern emerges: the vast majority of Spain's humanitarian financial support, amounting to over $132 million, is channeled through a single, predominant flow type. This represents the lion's share of its contributions. In comparison, other funding streams receive significantly smaller allocations, with one flow type garnering less than $300,000 and another barely registering. #>  #> This highly concentrated distribution reveals a strategic approach to Spanish humanitarian funding. While the specific nature of these flow types isn't detailed, such a strong focus could indicate a preference for certain long-term partnerships, specific aid mechanisms, or key strategic priorities. For humanitarian organizations and those they serve, understanding this concentration is crucial. It highlights where the bulk of Spain's support is directed, enabling better planning for operations aligned with these major funding channels, while also prompting considerations about flexibility in addressing diverse and emerging crises. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/reference/plot_donor_funding_over_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Donor Funding Over Time — plot_donor_funding_over_time","title":"Plot Donor Funding Over Time — plot_donor_funding_over_time","text":"Visualizes total funding provided given donor across budget years. Useful track trends, identify peaks, assess consistency.","code":""},{"path":"/reference/plot_donor_funding_over_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Donor Funding Over Time — plot_donor_funding_over_time","text":"","code":"plot_donor_funding_over_time(flows, donor_name)"},{"path":"/reference/plot_donor_funding_over_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Donor Funding Over Time — plot_donor_funding_over_time","text":"flows dataframe humanitarian funding flows (FTS format). donor_name name donor organization filter.","code":""},{"path":"/reference/plot_donor_funding_over_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Donor Funding Over Time — plot_donor_funding_over_time","text":"ggplot object showing donor funding trends budget years.","code":""},{"path":"/reference/plot_donor_funding_over_time.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Donor Funding Over Time — plot_donor_funding_over_time","text":"","code":"p <- plot_donor_funding_over_time(flows, donor_name= \"Spain, Government of\") #> Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0. #> ℹ Please use `linewidth` instead. #> ℹ The deprecated feature was likely used in the ftsAnalysis package. #>   Please report the issue to the authors.  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> The Spanish Government's humanitarian funding reveals a dynamic and significantly increasing commitment to global crises in recent years. #>  #> After providing over $10 million in 2022, Spain's humanitarian aid saw a sharp dip to just under $1.5 million in 2023. However, this decline was swiftly followed by a powerful resurgence. #>  #> The data shows a dramatic escalation in support, with over $50 million allocated for 2024 – a more than thirty-fold increase from the previous year. This robust positive trend is set to continue, with an even greater commitment exceeding $64 million projected for 2025. This trajectory highlights Spain's renewed and substantially strengthened role in humanitarian efforts, promising increased resources for critical relief operations globally. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". print(p + ggplot2::labs(subtitle = dubbed)) #> Warning: Removed 1 row containing missing values or values outside the scale range #> (`geom_col()`). #> Warning: Removed 1 row containing missing values or values outside the scale range #> (`geom_line()`). #> Warning: Removed 1 row containing missing values or values outside the scale range #> (`geom_point()`)."},{"path":"/reference/plot_funding_status_timeline.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Funding Timeline by Status — plot_funding_status_timeline","title":"Plot Funding Timeline by Status — plot_funding_status_timeline","text":"Shows evolution funding amounts status (pledge, commitment, paid) across budget years. Useful tracking donor disbursement progress.","code":""},{"path":"/reference/plot_funding_status_timeline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Funding Timeline by Status — plot_funding_status_timeline","text":"","code":"plot_funding_status_timeline(flows)"},{"path":"/reference/plot_funding_status_timeline.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Funding Timeline by Status — plot_funding_status_timeline","text":"flows FTS flows dataframe.","code":""},{"path":"/reference/plot_funding_status_timeline.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Funding Timeline by Status — plot_funding_status_timeline","text":"ggplot object showing funding time status.","code":""},{"path":"/reference/plot_funding_status_timeline.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Funding Timeline by Status — plot_funding_status_timeline","text":"","code":"p <- plot_funding_status_timeline(flows)  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> This visualization maps the critical journey of humanitarian funding, tracking its evolution from initial pledges to firm commitments and, ultimately, to actual paid disbursements. While decades past showed a steady flow, the 2020s mark a dramatic escalation in humanitarian financial needs, reflected in rapidly increasing pledges and commitments. #>  #> However, a striking disparity emerges when we look at the projections for 2024 and 2025. While billions of dollars are pledged and committed for future humanitarian action – for instance, over $10 billion in commitments for 2025 alone – the actual paid funding remains a fraction of these announced intentions. For 2025, only about $4.4 million is shown as paid, starkly contrasting the significant commitments. #>  #> This widening gap highlights a persistent challenge: converting donor goodwill and financial promises into tangible resources on the ground. The humanitarian system relies on the swift and efficient movement of funds to address escalating crises. Delays in disbursement can severely impact aid delivery, underscoring the critical need to bridge the gap between financial commitment and life-saving action. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed) #> Warning: Removed 3 rows containing missing values or values outside the scale range #> (`geom_line()`). #> Warning: Removed 3 rows containing missing values or values outside the scale range #> (`geom_point()`)."},{"path":"/reference/plot_location_funding_destination.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Funding by Destination Location — plot_location_funding_destination","title":"Plot Funding by Destination Location — plot_location_funding_destination","text":"Visualizes total humanitarian funding directed given destination location. Useful identify funding hotspots compare regions.","code":""},{"path":"/reference/plot_location_funding_destination.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Funding by Destination Location — plot_location_funding_destination","text":"","code":"plot_location_funding_destination(flows, location_name)"},{"path":"/reference/plot_location_funding_destination.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Funding by Destination Location — plot_location_funding_destination","text":"flows dataframe humanitarian funding flows (FTS format). location_name name destination location filter.","code":""},{"path":"/reference/plot_location_funding_destination.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Funding by Destination Location — plot_location_funding_destination","text":"ggplot object showing total funding per donor location.","code":""},{"path":"/reference/plot_location_funding_destination.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Funding by Destination Location — plot_location_funding_destination","text":"","code":"p <- plot_location_funding_destination(flows, location_name= \"Burundi\")  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> Burundi's humanitarian landscape relies heavily on external support, and understanding funding sources is key to sustaining aid efforts. This visualization starkly reveals that a single donor stands out, contributing over $81 million. This colossal contribution represents the vast majority of aid detailed here, demonstrating a high concentration of funding for the country. #>  #> While a few other donors provide significant support, each in the range of $7-8 million, their combined contributions still pale in comparison to the largest funder. Many other partners provide smaller, yet vital, amounts. This concentrated funding pattern underscores both the critical commitment of major donors and a potential vulnerability. Diversifying humanitarian funding for Burundi could enhance resilience and ensure more stable, predictable resources for people in need, minimizing over-reliance on any single source. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/reference/plot_location_funding_donor.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Destination Funding by Donor — plot_location_funding_donor","title":"Plot Destination Funding by Donor — plot_location_funding_donor","text":"Shows funding received location multiple donors. Useful identify funding hotspots dependency.","code":""},{"path":"/reference/plot_location_funding_donor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Destination Funding by Donor — plot_location_funding_donor","text":"","code":"plot_location_funding_donor(flows, location_name)"},{"path":"/reference/plot_location_funding_donor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Destination Funding by Donor — plot_location_funding_donor","text":"flows FTS flows dataframe. location_name Destination location name.","code":""},{"path":"/reference/plot_location_funding_donor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Destination Funding by Donor — plot_location_funding_donor","text":"ggplot object showing total funding per donor location.","code":""},{"path":"/reference/plot_location_funding_donor.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Destination Funding by Donor — plot_location_funding_donor","text":"","code":"p <- plot_location_funding_donor(flows, location_name= \"Burundi\")  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> Burundi consistently faces complex humanitarian challenges, requiring sustained international support. This visualization sheds light on the critical financial contributions made by various donors to address these needs. #>  #> The data reveals a clear pattern: a significant portion of humanitarian funding for Burundi comes from a few key contributors. One major donor stands out, providing over $81 million, demonstrating an immense commitment to alleviating suffering in the country. While a broad base of other donors also contribute, many provide smaller, yet still valuable, sums. #>  #> This concentration of funding highlights the indispensable role of major donors in enabling large-scale humanitarian operations in Burundi. However, it also underscores a potential vulnerability – a heavy reliance on a limited number of sources. Sustained and predictable funding from these crucial partners, alongside continued efforts to diversify the donor base, remains vital to ensure that humanitarian organizations can effectively deliver life-saving assistance to the people of Burundi. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/reference/plot_location_heatmap.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Top Donors Heatmap — plot_location_heatmap","title":"Plot Top Donors Heatmap — plot_location_heatmap","text":"Visualizes total funding top donors recipient organizations given location. Correctly handles deeply nested FTS destinationObjects.","code":""},{"path":"/reference/plot_location_heatmap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Top Donors Heatmap — plot_location_heatmap","text":"","code":"plot_location_heatmap(flows, location_name, top_n = 5)"},{"path":"/reference/plot_location_heatmap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Top Donors Heatmap — plot_location_heatmap","text":"flows FTS flows dataframe location_name Name destination location filter top_n Number top donors display (default = 5)","code":""},{"path":"/reference/plot_location_heatmap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Top Donors Heatmap — plot_location_heatmap","text":"ggplot heatmap","code":""},{"path":"/reference/plot_location_heatmap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Top Donors Heatmap — plot_location_heatmap","text":"","code":"p <- plot_location_heatmap(flows, location_name= \"Burundi\", top_n = 5)  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> Humanitarian aid to Burundi is vital, and this visualization offers a critical look at how funds are channeled. It maps the direct organizational flows from the top five donors to their various recipients within the country. #>  #> The diverse array of colors across the tiles immediately reveals that while a few flows are significant (indicated by bright hues like yellow), many others are smaller but contribute to the overall response (darker shades). This granular view highlights a diversified funding strategy, with major donors often supporting multiple implementing partners rather than concentrating funds in a single entity. #>  #> Understanding these specific donor-to-recipient pathways is essential for enhancing accountability, coordination, and identifying potential strengths or gaps in the aid delivery ecosystem. It shows who funds whom, giving invaluable insights into Burundi's humanitarian landscape. Such transparency ensures that resources effectively reach vulnerable populations and strengthens the overall impact of humanitarian interventions. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/reference/plot_recipient_cofunding.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Recipient Co-Funding Rate — plot_recipient_cofunding","title":"Plot Recipient Co-Funding Rate — plot_recipient_cofunding","text":"Shows often recipient shares funding recipients given donor. Useful see multi-recipient funding trends.","code":""},{"path":"/reference/plot_recipient_cofunding.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Recipient Co-Funding Rate — plot_recipient_cofunding","text":"","code":"plot_recipient_cofunding(flows, recipient_name)"},{"path":"/reference/plot_recipient_cofunding.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Recipient Co-Funding Rate — plot_recipient_cofunding","text":"flows dataframe FTS funding flows. recipient_name Recipient organization name filter.","code":""},{"path":"/reference/plot_recipient_cofunding.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Recipient Co-Funding Rate — plot_recipient_cofunding","text":"ggplot object co-funding rates.","code":""},{"path":"/reference/plot_recipient_cofunding.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Recipient Co-Funding Rate — plot_recipient_cofunding","text":"","code":"p <- plot_recipient_cofunding(flows,                recipient_name = \"United Nations High Commissioner for Refugees\")   # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> This chart reveals the 'co-funding rate' for the United Nations High Commissioner for Refugees (UNHCR), illustrating the proportion of funding that supports UNHCR's work as part of multi-recipient projects. #>  #> Understanding this metric is vital for effective humanitarian action. A higher co-funding rate signifies a coordinated approach from donors, where funds are channeled to initiatives involving multiple humanitarian agencies, not just UNHCR in isolation. This collaborative funding model is crucial in complex crises, enabling a more integrated and holistic response to the needs of displaced populations. #>  #> Such shared funding can enhance efficiency, prevent duplication of efforts, and ensure that diverse expertise is brought to bear on multifaceted challenges. By supporting joint projects, donors reinforce the humanitarian community's capacity for collective action, ultimately leading to a more comprehensive and impactful delivery of aid to those most in need. Tracking these patterns helps us gauge the level of inter-agency cooperation and strategic investment in collaborative solutions. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/reference/plot_recipient_contribution_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Recipient Funding by Contribution Type — plot_recipient_contribution_type","title":"Plot Recipient Funding by Contribution Type — plot_recipient_contribution_type","text":"Visualizes split funding received recipient based contribution type (e.g., financial -kind). Useful assess funding modality diversity.","code":""},{"path":"/reference/plot_recipient_contribution_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Recipient Funding by Contribution Type — plot_recipient_contribution_type","text":"","code":"plot_recipient_contribution_type(flows, recipient_name)"},{"path":"/reference/plot_recipient_contribution_type.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Recipient Funding by Contribution Type — plot_recipient_contribution_type","text":"flows FTS flows dataframe. recipient_name Recipient organization name.","code":""},{"path":"/reference/plot_recipient_contribution_type.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Recipient Funding by Contribution Type — plot_recipient_contribution_type","text":"ggplot object showing funding contribution type.","code":""},{"path":"/reference/plot_recipient_contribution_type.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Recipient Funding by Contribution Type — plot_recipient_contribution_type","text":"","code":"p <- plot_recipient_contribution_type(flows,                  recipient_name = \"United Nations High Commissioner for Refugees\")   # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> The United Nations High Commissioner for Refugees (UNHCR) relies heavily on global support to assist millions displaced by conflict and disaster. This visualization starkly reveals the dominant role of financial contributions in funding UNHCR's vital operations. #>  #> The agency receives nearly 900 times more funding in cash than in goods. Specifically, financial contributions represent the vast majority of the support, totaling over $1.4 billion, while in-kind aid amounts to just under $1.6 million. #>  #> This overwhelming preference for flexible financial funding provides UNHCR with crucial agility. Cash empowers the agency to respond effectively to evolving crises, procuring precise goods and services where they are most needed, often buying locally to support affected economies. While in-kind donations can be valuable, flexible financial support ensures resources are optimized to deliver tailored and timely assistance, protecting the world's most vulnerable with maximum efficiency. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/reference/plot_recipient_funding_composition.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Recipient Funding Composition by Donor — plot_recipient_funding_composition","title":"Plot Recipient Funding Composition by Donor — plot_recipient_funding_composition","text":"Shows specific recipient organization’s funding distributed across donors. Useful assessing donor diversification reliance.","code":""},{"path":"/reference/plot_recipient_funding_composition.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Recipient Funding Composition by Donor — plot_recipient_funding_composition","text":"","code":"plot_recipient_funding_composition(flows, recipient_name)"},{"path":"/reference/plot_recipient_funding_composition.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Recipient Funding Composition by Donor — plot_recipient_funding_composition","text":"flows dataframe humanitarian funding flows (FTS format). recipient_name name recipient organization filter.","code":""},{"path":"/reference/plot_recipient_funding_composition.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Recipient Funding Composition by Donor — plot_recipient_funding_composition","text":"ggplot object showing donor shares recipient funding.","code":""},{"path":"/reference/plot_recipient_funding_composition.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Recipient Funding Composition by Donor — plot_recipient_funding_composition","text":"","code":"p <- plot_recipient_funding_composition(flows,                recipient_name = \"United Nations High Commissioner for Refugees\")  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> The United Nations High Commissioner for Refugees (UNHCR), a frontline agency in protecting displaced populations, relies on a vast network of support to carry out its life-saving mission. This visualization highlights the varied funding composition for UNHCR, illustrating where its financial strength originates. #>  #> The data reveals that UNHCR receives contributions from a diverse range of donor organizations. While a few key donors provide substantial financial backing, sometimes in the hundreds of millions of dollars (e.g., over $230 million from a single donor), a multitude of other organizations also contribute, ranging from millions down to thousands of dollars. #>  #> This mixed funding model is critical for UNHCR's operational capacity. Large, consistent contributions enable the agency to plan and execute extensive humanitarian operations, providing shelter, food, water, and protection to millions of refugees globally. Simultaneously, the broad base of smaller donations signifies a widespread commitment from various stakeholders, enhancing resilience and demonstrating a collective global responsibility towards those forced to flee their homes. This diverse support ensures UNHCR can respond to emergencies, sustain long-term programs, and advocate for durable solutions for the world's most vulnerable. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/reference/plot_recipient_grandbargain.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Grand Bargain Earmarking by Recipient — plot_recipient_grandbargain","title":"Plot Grand Bargain Earmarking by Recipient — plot_recipient_grandbargain","text":"Visualizes proportion funding earmarked Grand Bargain commitments recipient. Helps assess much funding aligns international humanitarian reform commitments.","code":""},{"path":"/reference/plot_recipient_grandbargain.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Grand Bargain Earmarking by Recipient — plot_recipient_grandbargain","text":"","code":"plot_recipient_grandbargain(flows, recipient_name)"},{"path":"/reference/plot_recipient_grandbargain.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Grand Bargain Earmarking by Recipient — plot_recipient_grandbargain","text":"flows FTS flows dataframe. recipient_name Recipient organization name.","code":""},{"path":"/reference/plot_recipient_grandbargain.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Grand Bargain Earmarking by Recipient — plot_recipient_grandbargain","text":"ggplot object showing split earmarked vs non-earmarked funding.","code":""},{"path":"/reference/plot_recipient_grandbargain.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Grand Bargain Earmarking by Recipient — plot_recipient_grandbargain","text":"","code":"p <- plot_recipient_grandbargain(flows,           recipient_name = \"United Nations High Commissioner for Refugees\") #> Scale for y is already present. #> Adding another scale for y, which will replace the existing scale.  # getting LLm story story <- generate_plot_story(p, max_tokens = 300) #> Using model = \"gemini-2.5-flash\". cat(story) #> The United Nations High Commissioner for Refugees (UNHCR) plays a critical role in assisting millions displaced globally, and the nature of its funding is paramount to its effectiveness. A key principle of the Grand Bargain, an agreement among major humanitarian donors and organizations, is to enhance funding flexibility to better meet evolving needs. #>  #> This visualization provides a crucial insight into how UNHCR receives its financial support, illustrating the distribution of earmarked (restricted) versus non-earmarked (flexible) contributions. The distinct columns, representing hundreds of millions of dollars, showcase the substantial financial streams flowing to UNHCR. While some funds are specifically designated by donors for particular projects or regions, other contributions offer greater flexibility. #>  #> The ability for UNHCR to access flexible, non-earmarked funding is vital. It allows the agency to adapt swiftly to new crises, allocate resources to underfunded emergencies, and address the most urgent priorities for refugees and displaced populations worldwide without the delays inherent in seeking new approvals for restricted funds. Understanding this distribution is key to assessing UNHCR's operational agility and its overall humanitarian impact. # and plot with more powerful subtitle dubbed <- generate_plot_story(p) #> Using model = \"gemini-2.5-flash\". p + ggplot2::labs(subtitle = dubbed)"},{"path":"/news/index.html","id":"ftsanalysis-development-version","dir":"Changelog","previous_headings":"","what":"ftsAnalysis (development version)","title":"ftsAnalysis (development version)","text":"Initial version.","code":""}]
